import{a as C,R as ea,j as e,A as ta,T as aa,b as s,B as te,C as na,c as g,G as M,d as ot,e as lt,f as ct,P as ae,g as G,F as _e,I as Fe,S as Ae,M as ce,h as oe,i as Pe,k as Oe,D as je,l as me,m as Ie,n as re,o as Me,p as ia,u as sa,q as ra,s as oa,v as la,w as ca,x as dt,y as da,z as ua,E as ha,L as ma,H as pa,J as xa,K as ga,N as fa,O as ja,Q as ba}from"./mui-7CIF05_o.js";import{C as va,V as se,M as Re,T as Te,Q as Xe,S as ut,a as be,R as ya,P as Ma,b as Ca,c as Bt,d as zt,e as Lt,W as Nt,A as Dt,G as $t,B as Ze,L as ht,f as mt,g as Pa,h as _a,i as Ea,j as Sa,k as ka,l as We,m as wa,n as Ta,F as Ge,o as Ra,D as Fa,p as pt,q as xt,r as gt,s as Aa}from"./three-CRh4TW_J.js";import{r as Ia,c as fe}from"./math-DlCv7YxO.js";import{b as Ba,g as za}from"./vendor-DmnEbU0Y.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function a(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(i){if(i.ep)return;i.ep=!0;const d=a(i);fetch(i.href,d)}})();/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ne(){return Ne=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ne.apply(this,arguments)}var ye;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ye||(ye={}));const ft="popstate";function La(t){t===void 0&&(t={});function n(i,d){let{pathname:p="/",search:v="",hash:f=""}=Ee(i.location.hash.substr(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),Je("",{pathname:p,search:v,hash:f},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function a(i,d){let p=i.document.querySelector("base"),v="";if(p&&p.getAttribute("href")){let f=i.location.href,E=f.indexOf("#");v=E===-1?f:f.slice(0,E)}return v+"#"+(typeof d=="string"?d:Ue(d))}function r(i,d){tt(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(d)+")")}return Da(n,a,r,t)}function de(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function tt(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Na(){return Math.random().toString(36).substr(2,8)}function jt(t,n){return{usr:t.state,key:t.key,idx:n}}function Je(t,n,a,r){return a===void 0&&(a=null),Ne({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?Ee(n):n,{state:a,key:n&&n.key||r||Na()})}function Ue(t){let{pathname:n="/",search:a="",hash:r=""}=t;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Ee(t){let n={};if(t){let a=t.indexOf("#");a>=0&&(n.hash=t.substr(a),t=t.substr(0,a));let r=t.indexOf("?");r>=0&&(n.search=t.substr(r),t=t.substr(0,r)),t&&(n.pathname=t)}return n}function Da(t,n,a,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:d=!1}=r,p=i.history,v=ye.Pop,f=null,E=y();E==null&&(E=0,p.replaceState(Ne({},p.state,{idx:E}),""));function y(){return(p.state||{idx:null}).idx}function R(){v=ye.Pop;let m=y(),h=m==null?null:m-E;E=m,f&&f({action:v,location:o.location,delta:h})}function k(m,h){v=ye.Push;let S=Je(o.location,m,h);a&&a(S,m),E=y()+1;let T=jt(S,E),I=o.createHref(S);try{p.pushState(T,"",I)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(I)}d&&f&&f({action:v,location:o.location,delta:1})}function j(m,h){v=ye.Replace;let S=Je(o.location,m,h);a&&a(S,m),E=y();let T=jt(S,E),I=o.createHref(S);p.replaceState(T,"",I),d&&f&&f({action:v,location:o.location,delta:0})}function u(m){let h=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof m=="string"?m:Ue(m);return S=S.replace(/ $/,"%20"),de(h,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,h)}let o={get action(){return v},get location(){return t(i,p)},listen(m){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(ft,R),f=m,()=>{i.removeEventListener(ft,R),f=null}},createHref(m){return n(i,m)},createURL:u,encodeLocation(m){let h=u(m);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:k,replace:j,go(m){return p.go(m)}};return o}var bt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bt||(bt={}));function $a(t,n,a){return a===void 0&&(a="/"),Oa(t,n,a)}function Oa(t,n,a,r){let i=typeof n=="string"?Ee(n):n,d=at(i.pathname||"/",a);if(d==null)return null;let p=Ot(t);Va(p);let v=null;for(let f=0;v==null&&f<p.length;++f){let E=en(d);v=Za(p[f],E)}return v}function Ot(t,n,a,r){n===void 0&&(n=[]),a===void 0&&(a=[]),r===void 0&&(r="");let i=(d,p,v)=>{let f={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};f.relativePath.startsWith("/")&&(de(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let E=Ce([r,f.relativePath]),y=a.concat(f);d.children&&d.children.length>0&&(de(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+E+'".')),Ot(d.children,n,y,E)),!(d.path==null&&!d.index)&&n.push({path:E,score:Ka(E,d.index),routesMeta:y})};return t.forEach((d,p)=>{var v;if(d.path===""||!((v=d.path)!=null&&v.includes("?")))i(d,p);else for(let f of Vt(d.path))i(d,p,f)}),n}function Vt(t){let n=t.split("/");if(n.length===0)return[];let[a,...r]=n,i=a.endsWith("?"),d=a.replace(/\?$/,"");if(r.length===0)return i?[d,""]:[d];let p=Vt(r.join("/")),v=[];return v.push(...p.map(f=>f===""?d:[d,f].join("/"))),i&&v.push(...p),v.map(f=>t.startsWith("/")&&f===""?"/":f)}function Va(t){t.sort((n,a)=>n.score!==a.score?a.score-n.score:Xa(n.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const Wa=/^:[\w-]+$/,Ua=3,qa=2,Ga=1,Ya=10,Ha=-2,vt=t=>t==="*";function Ka(t,n){let a=t.split("/"),r=a.length;return a.some(vt)&&(r+=Ha),n&&(r+=qa),a.filter(i=>!vt(i)).reduce((i,d)=>i+(Wa.test(d)?Ua:d===""?Ga:Ya),r)}function Xa(t,n){return t.length===n.length&&t.slice(0,-1).every((r,i)=>r===n[i])?t[t.length-1]-n[n.length-1]:0}function Za(t,n,a){let{routesMeta:r}=t,i={},d="/",p=[];for(let v=0;v<r.length;++v){let f=r[v],E=v===r.length-1,y=d==="/"?n:n.slice(d.length)||"/",R=Ja({path:f.relativePath,caseSensitive:f.caseSensitive,end:E},y),k=f.route;if(!R)return null;Object.assign(i,R.params),p.push({params:i,pathname:Ce([d,R.pathname]),pathnameBase:sn(Ce([d,R.pathnameBase])),route:k}),R.pathnameBase!=="/"&&(d=Ce([d,R.pathnameBase]))}return p}function Ja(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=Qa(t.path,t.caseSensitive,t.end),i=n.match(a);if(!i)return null;let d=i[0],p=d.replace(/(.)\/+$/,"$1"),v=i.slice(1);return{params:r.reduce((E,y,R)=>{let{paramName:k,isOptional:j}=y;if(k==="*"){let o=v[R]||"";p=d.slice(0,d.length-o.length).replace(/(.)\/+$/,"$1")}const u=v[R];return j&&!u?E[k]=void 0:E[k]=(u||"").replace(/%2F/g,"/"),E},{}),pathname:d,pathnameBase:p,pattern:t}}function Qa(t,n,a){n===void 0&&(n=!1),a===void 0&&(a=!0),tt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,v,f)=>(r.push({paramName:v,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function en(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return tt(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function at(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}function tn(t,n){n===void 0&&(n="/");let{pathname:a,search:r="",hash:i=""}=typeof t=="string"?Ee(t):t;return{pathname:a?a.startsWith("/")?a:an(a,n):n,search:rn(r),hash:on(i)}}function an(t,n){let a=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?a.length>1&&a.pop():i!=="."&&a.push(i)}),a.length>1?a.join("/"):"/"}function Ye(t,n,a,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nn(t){return t.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function Wt(t,n){let a=nn(t);return n?a.map((r,i)=>i===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function Ut(t,n,a,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ee(t):(i=Ne({},t),de(!i.pathname||!i.pathname.includes("?"),Ye("?","pathname","search",i)),de(!i.pathname||!i.pathname.includes("#"),Ye("#","pathname","hash",i)),de(!i.search||!i.search.includes("#"),Ye("#","search","hash",i)));let d=t===""||i.pathname==="",p=d?"/":i.pathname,v;if(p==null)v=a;else{let R=n.length-1;if(!r&&p.startsWith("..")){let k=p.split("/");for(;k[0]==="..";)k.shift(),R-=1;i.pathname=k.join("/")}v=R>=0?n[R]:"/"}let f=tn(i,v),E=p&&p!=="/"&&p.endsWith("/"),y=(d||p===".")&&a.endsWith("/");return!f.pathname.endsWith("/")&&(E||y)&&(f.pathname+="/"),f}const Ce=t=>t.join("/").replace(/\/\/+/g,"/"),sn=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rn=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,on=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ln(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qt=["post","put","patch","delete"];new Set(qt);const cn=["get",...qt];new Set(cn);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function De(){return De=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},De.apply(this,arguments)}const nt=C.createContext(null),dn=C.createContext(null),Se=C.createContext(null),qe=C.createContext(null),ke=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Gt=C.createContext(null);function un(t,n){let{relative:a}=n===void 0?{}:n;$e()||de(!1);let{basename:r,navigator:i}=C.useContext(Se),{hash:d,pathname:p,search:v}=Ht(t,{relative:a}),f=p;return r!=="/"&&(f=p==="/"?r:Ce([r,p])),i.createHref({pathname:f,search:v,hash:d})}function $e(){return C.useContext(qe)!=null}function Be(){return $e()||de(!1),C.useContext(qe).location}function Yt(t){C.useContext(Se).static||C.useLayoutEffect(t)}function it(){let{isDataRoute:t}=C.useContext(ke);return t?Pn():hn()}function hn(){$e()||de(!1);let t=C.useContext(nt),{basename:n,future:a,navigator:r}=C.useContext(Se),{matches:i}=C.useContext(ke),{pathname:d}=Be(),p=JSON.stringify(Wt(i,a.v7_relativeSplatPath)),v=C.useRef(!1);return Yt(()=>{v.current=!0}),C.useCallback(function(E,y){if(y===void 0&&(y={}),!v.current)return;if(typeof E=="number"){r.go(E);return}let R=Ut(E,JSON.parse(p),d,y.relative==="path");t==null&&n!=="/"&&(R.pathname=R.pathname==="/"?n:Ce([n,R.pathname])),(y.replace?r.replace:r.push)(R,y.state,y)},[n,r,p,d,t])}function Ht(t,n){let{relative:a}=n===void 0?{}:n,{future:r}=C.useContext(Se),{matches:i}=C.useContext(ke),{pathname:d}=Be(),p=JSON.stringify(Wt(i,r.v7_relativeSplatPath));return C.useMemo(()=>Ut(t,JSON.parse(p),d,a==="path"),[t,p,d,a])}function mn(t,n){return pn(t,n)}function pn(t,n,a,r){$e()||de(!1);let{navigator:i,static:d}=C.useContext(Se),{matches:p}=C.useContext(ke),v=p[p.length-1],f=v?v.params:{};v&&v.pathname;let E=v?v.pathnameBase:"/";v&&v.route;let y=Be(),R;if(n){var k;let h=typeof n=="string"?Ee(n):n;E==="/"||(k=h.pathname)!=null&&k.startsWith(E)||de(!1),R=h}else R=y;let j=R.pathname||"/",u=j;if(E!=="/"){let h=E.replace(/^\//,"").split("/");u="/"+j.replace(/^\//,"").split("/").slice(h.length).join("/")}let o=$a(t,{pathname:u}),m=bn(o&&o.map(h=>Object.assign({},h,{params:Object.assign({},f,h.params),pathname:Ce([E,i.encodeLocation?i.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?E:Ce([E,i.encodeLocation?i.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),p,a,r);return n&&m?C.createElement(qe.Provider,{value:{location:De({pathname:"/",search:"",hash:"",state:null,key:"default"},R),navigationType:ye.Pop}},m):m}function xn(){let t=Cn(),n=ln(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},n),a?C.createElement("pre",{style:i},a):null,null)}const gn=C.createElement(xn,null);class fn extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){console.error("React Router caught the following error during render",n,a)}render(){return this.state.error!==void 0?C.createElement(ke.Provider,{value:this.props.routeContext},C.createElement(Gt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jn(t){let{routeContext:n,match:a,children:r}=t,i=C.useContext(nt);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),C.createElement(ke.Provider,{value:n},r)}function bn(t,n,a,r){var i;if(n===void 0&&(n=[]),a===void 0&&(a=null),r===void 0&&(r=null),t==null){var d;if(!a)return null;if(a.errors)t=a.matches;else if((d=r)!=null&&d.v7_partialHydration&&n.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let p=t,v=(i=a)==null?void 0:i.errors;if(v!=null){let y=p.findIndex(R=>R.route.id&&(v==null?void 0:v[R.route.id])!==void 0);y>=0||de(!1),p=p.slice(0,Math.min(p.length,y+1))}let f=!1,E=-1;if(a&&r&&r.v7_partialHydration)for(let y=0;y<p.length;y++){let R=p[y];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(E=y),R.route.id){let{loaderData:k,errors:j}=a,u=R.route.loader&&k[R.route.id]===void 0&&(!j||j[R.route.id]===void 0);if(R.route.lazy||u){f=!0,E>=0?p=p.slice(0,E+1):p=[p[0]];break}}}return p.reduceRight((y,R,k)=>{let j,u=!1,o=null,m=null;a&&(j=v&&R.route.id?v[R.route.id]:void 0,o=R.route.errorElement||gn,f&&(E<0&&k===0?(_n("route-fallback"),u=!0,m=null):E===k&&(u=!0,m=R.route.hydrateFallbackElement||null)));let h=n.concat(p.slice(0,k+1)),S=()=>{let T;return j?T=o:u?T=m:R.route.Component?T=C.createElement(R.route.Component,null):R.route.element?T=R.route.element:T=y,C.createElement(jn,{match:R,routeContext:{outlet:y,matches:h,isDataRoute:a!=null},children:T})};return a&&(R.route.ErrorBoundary||R.route.errorElement||k===0)?C.createElement(fn,{location:a.location,revalidation:a.revalidation,component:o,error:j,children:S(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):S()},null)}var Kt=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kt||{}),Xt=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Xt||{});function vn(t){let n=C.useContext(nt);return n||de(!1),n}function yn(t){let n=C.useContext(dn);return n||de(!1),n}function Mn(t){let n=C.useContext(ke);return n||de(!1),n}function Zt(t){let n=Mn(),a=n.matches[n.matches.length-1];return a.route.id||de(!1),a.route.id}function Cn(){var t;let n=C.useContext(Gt),a=yn(),r=Zt();return n!==void 0?n:(t=a.errors)==null?void 0:t[r]}function Pn(){let{router:t}=vn(Kt.UseNavigateStable),n=Zt(Xt.UseNavigateStable),a=C.useRef(!1);return Yt(()=>{a.current=!0}),C.useCallback(function(i,d){d===void 0&&(d={}),a.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,De({fromRouteId:n},d)))},[t,n])}const yt={};function _n(t,n,a){yt[t]||(yt[t]=!0)}function En(t,n){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pe(t){de(!1)}function Sn(t){let{basename:n="/",children:a=null,location:r,navigationType:i=ye.Pop,navigator:d,static:p=!1,future:v}=t;$e()&&de(!1);let f=n.replace(/^\/*/,"/"),E=C.useMemo(()=>({basename:f,navigator:d,static:p,future:De({v7_relativeSplatPath:!1},v)}),[f,v,d,p]);typeof r=="string"&&(r=Ee(r));let{pathname:y="/",search:R="",hash:k="",state:j=null,key:u="default"}=r,o=C.useMemo(()=>{let m=at(y,f);return m==null?null:{location:{pathname:m,search:R,hash:k,state:j,key:u},navigationType:i}},[f,y,R,k,j,u,i]);return o==null?null:C.createElement(Se.Provider,{value:E},C.createElement(qe.Provider,{children:a,value:o}))}function st(t){let{children:n,location:a}=t;return mn(Qe(n),a)}new Promise(()=>{});function Qe(t,n){n===void 0&&(n=[]);let a=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let d=[...n,i];if(r.type===C.Fragment){a.push.apply(a,Qe(r.props.children,d));return}r.type!==pe&&de(!1),!r.props.index||!r.props.children||de(!1);let p={id:r.props.id||d.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(p.children=Qe(r.props.children,d)),a.push(p)}),a}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function et(){return et=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},et.apply(this,arguments)}function kn(t,n){if(t==null)return{};var a={},r=Object.keys(t),i,d;for(d=0;d<r.length;d++)i=r[d],!(n.indexOf(i)>=0)&&(a[i]=t[i]);return a}function wn(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Tn(t,n){return t.button===0&&(!n||n==="_self")&&!wn(t)}const Rn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fn="6";try{window.__reactRouterVersion=Fn}catch{}const An="startTransition",Mt=ea[An];function In(t){let{basename:n,children:a,future:r,window:i}=t,d=C.useRef();d.current==null&&(d.current=La({window:i,v5Compat:!0}));let p=d.current,[v,f]=C.useState({action:p.action,location:p.location}),{v7_startTransition:E}=r||{},y=C.useCallback(R=>{E&&Mt?Mt(()=>f(R)):f(R)},[f,E]);return C.useLayoutEffect(()=>p.listen(y),[p,y]),C.useEffect(()=>En(r),[r]),C.createElement(Sn,{basename:n,children:a,location:v.location,navigationType:v.action,navigator:p,future:r})}const Bn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=C.forwardRef(function(n,a){let{onClick:r,relative:i,reloadDocument:d,replace:p,state:v,target:f,to:E,preventScrollReset:y,viewTransition:R}=n,k=kn(n,Rn),{basename:j}=C.useContext(Se),u,o=!1;if(typeof E=="string"&&zn.test(E)&&(u=E,Bn))try{let T=new URL(window.location.href),I=E.startsWith("//")?new URL(T.protocol+E):new URL(E),$=at(I.pathname,j);I.origin===T.origin&&$!=null?E=$+I.search+I.hash:o=!0}catch{}let m=un(E,{relative:i}),h=Ln(E,{replace:p,state:v,target:f,preventScrollReset:y,relative:i,viewTransition:R});function S(T){r&&r(T),T.defaultPrevented||h(T)}return C.createElement("a",et({},k,{href:u||m,onClick:o||d?r:S,ref:a,target:f}))});var Ct;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ct||(Ct={}));var Pt;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pt||(Pt={}));function Ln(t,n){let{target:a,replace:r,state:i,preventScrollReset:d,relative:p,viewTransition:v}=n===void 0?{}:n,f=it(),E=Be(),y=Ht(t,{relative:p});return C.useCallback(R=>{if(Tn(R,a)){R.preventDefault();let k=r!==void 0?r:Ue(E)===Ue(y);f(t,{replace:k,state:i,preventScrollReset:d,relative:p,viewTransition:v})}},[E,f,y,r,i,a,t,d,p,v])}function Nn(){return e.jsx(ta,{position:"static",children:e.jsxs(aa,{children:[e.jsx(s,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Simulador Matemático"}),e.jsx(te,{color:"inherit",component:Le,to:"/",children:"Inicio"}),e.jsx(te,{color:"inherit",component:Le,to:"/algebra-lineal",children:"Álgebra Lineal"}),e.jsx(te,{color:"inherit",component:Le,to:"/calculo-multivariante",children:"Cálculo Multivariante"})]})})}const Dn="/algebra-lineal-simulator/assets/planar2-N_BhOYNM.png",$n="/algebra-lineal-simulator/assets/curvilinear2-DJHA5Hzp.png";function On(){return e.jsx(na,{maxWidth:"lg",children:e.jsxs(g,{sx:{my:4,textAlign:"center"},children:[e.jsx(s,{variant:"h3",component:"h1",gutterBottom:!0,children:"Simulador de Matemáticas Avanzadas"}),e.jsx(s,{variant:"h5",sx:{mb:6,color:"text.secondary"},children:"Explora conceptos de álgebra lineal y cálculo multivariante de forma interactiva"}),e.jsxs(M,{container:!0,spacing:4,children:[e.jsx(M,{item:!0,xs:12,md:6,children:e.jsxs(ot,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsx(lt,{component:"img",height:"240",image:Dn,alt:"Álgebra Lineal",sx:{objectFit:"contain",bgcolor:"#121212"}}),e.jsxs(ct,{sx:{flexGrow:1},children:[e.jsx(s,{gutterBottom:!0,variant:"h5",component:"h2",children:"Álgebra Lineal"}),e.jsx(s,{children:"Trabaja con matrices, vectores, espacios vectoriales, transformaciones lineales y más. Resuelve sistemas de ecuaciones, calcula valores propios y explora aplicaciones prácticas."}),e.jsx(te,{component:Le,to:"/algebra-lineal",variant:"contained",sx:{mt:2},children:"Explorar Álgebra Lineal"})]})]})}),e.jsx(M,{item:!0,xs:12,md:6,children:e.jsxs(ot,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsx(lt,{component:"img",height:"240",image:$n,alt:"Cálculo Multivariante",sx:{objectFit:"contain",bgcolor:"#121212"}}),e.jsxs(ct,{sx:{flexGrow:1},children:[e.jsx(s,{gutterBottom:!0,variant:"h5",component:"h2",children:"Cálculo Multivariante"}),e.jsx(s,{children:"Explora el espacio tridimensional, funciones vectoriales, derivadas parciales, integrales múltiples y cálculo vectorial con visualizaciones interactivas."}),e.jsx(te,{component:Le,to:"/calculo-multivariante",variant:"contained",sx:{mt:2},children:"Explorar Cálculo Multivariante"})]})]})})]})]})})}const le=(t,n)=>{const a=Math.max(1,Math.floor(Number(t))),r=Math.max(1,Math.floor(Number(n)));return Array(a).fill().map(()=>Array(r).fill(0))},_t=t=>t.length===t[0].length,Et=t=>{const n=Number(t[0][0]),a=Number(t[0][1]),r=Number(t[1][0]),i=Number(t[1][1]);return n*i-a*r},St=t=>{const n=Number(t[0][0]),a=Number(t[0][1]),r=Number(t[0][2]),i=Number(t[1][0]),d=Number(t[1][1]),p=Number(t[1][2]),v=Number(t[2][0]),f=Number(t[2][1]),E=Number(t[2][2]);return n*(d*E-p*f)-a*(i*E-p*v)+r*(i*f-d*v)};function Vn(){const[t,n]=C.useState(2),[a,r]=C.useState(2),[i,d]=C.useState(2),[p,v]=C.useState(2),[f,E]=C.useState(le(2,2)),[y,R]=C.useState(le(2,2)),[k,j]=C.useState(null),[u,o]=C.useState("suma"),[m,h]=C.useState(""),S=P=>{try{const{name:D,value:V}=P.target;if(V===""){D==="filasA"?n(""):r("");return}const L=parseInt(V);if(isNaN(L))return;if(L<1){D==="filasA"?(n(1),E(le(1,a))):(r(1),E(le(t,1)));return}if(L>5){D==="filasA"?(n(5),E(le(5,a))):(r(5),E(le(t,5)));return}D==="filasA"?(n(L),E(le(L,a))):(r(L),E(le(t,L)))}catch(D){console.error("Error al cambiar dimensiones de matriz A:",D),n(2),r(2),E(le(2,2))}},T=P=>{try{const{name:D,value:V}=P.target;if(V===""){D==="filasB"?d(""):v("");return}const L=parseInt(V);if(isNaN(L))return;if(L<1){D==="filasB"?(d(1),R(le(1,p))):(v(1),R(le(i,1)));return}if(L>5){D==="filasB"?(d(5),R(le(5,p))):(v(5),R(le(i,5)));return}D==="filasB"?(d(L),R(le(L,p))):(v(L),R(le(i,L)))}catch(D){console.error("Error al cambiar dimensiones de matriz B:",D),d(2),v(2),R(le(2,2))}},I=(P,D,V)=>{try{const L=[...f];if(console.log(`Procesando cambio en A[${P}][${D}], valor:`,V,"tipo:",typeof V),typeof V=="number"){L[P][D]=V,console.log(`  -> Asignado número directamente: ${V}`),E(L);return}if(typeof V!="string"){console.log("  -> Valor no es string ni número, ignorando");return}if(["","-",".","-.","-0.","0.","-0","0"].includes(V)){L[P][D]=V,console.log(`  -> Mantenido valor básico: "${V}"`),E(L);return}if(!isNaN(parseFloat(V))){if(/^-?\d+\.$/.test(V)){L[P][D]=V,console.log(`  -> Mantenido número en edición: "${V}"`),E(L);return}if(/^-?\d+\.?\d*$/.test(V)){const X=parseFloat(V);L[P][D]=X,console.log(`  -> Convertido a número: ${V} -> ${X}`),E(L);return}}console.log(`  -> Valor rechazado: "${V}"`)}catch(L){console.error("Error al cambiar matriz A:",L)}},$=(P,D,V)=>{try{const L=[...y];if(console.log(`Procesando cambio en B[${P}][${D}], valor:`,V,"tipo:",typeof V),typeof V=="number"){L[P][D]=V,console.log(`  -> Asignado número directamente: ${V}`),R(L);return}if(typeof V!="string"){console.log("  -> Valor no es string ni número, ignorando");return}if(["","-",".","-.","-0.","0.","-0","0"].includes(V)){L[P][D]=V,console.log(`  -> Mantenido valor básico: "${V}"`),R(L);return}if(!isNaN(parseFloat(V))){if(/^-?\d+\.$/.test(V)){L[P][D]=V,console.log(`  -> Mantenido número en edición: "${V}"`),R(L);return}if(/^-?\d+\.?\d*$/.test(V)){const X=parseFloat(V);L[P][D]=X,console.log(`  -> Convertido a número: ${V} -> ${X}`),R(L);return}}console.log(`  -> Valor rechazado: "${V}"`)}catch(L){console.error("Error al cambiar matriz B:",L)}},q=()=>{try{h("");const P=ee=>ee.map(X=>X.map(W=>{if(typeof W=="string"){if(console.log("Limpiando valor string:",W),["","-",".","-."].includes(W))return console.log("  -> convertido a 0 (patrón especial)"),0;if(/^-?\d+\.$/.test(W)){const x=parseFloat(W+"0");return console.log(`  -> número con punto al final, convertido a ${x}`),x}if(/^-?\d+\.\d+$/.test(W)){const x=parseFloat(W);return console.log(`  -> número decimal, convertido a ${x}`),x}const F=parseFloat(W);return isNaN(F)?(console.log("  -> no es un número válido, convertido a 0"),0):(console.log(`  -> convertido a número: ${F}`),F)}return typeof W=="number"&&!isNaN(W)?W:(console.log("Valor no reconocido, convertido a 0:",W,typeof W),0)})),D=P(f),V=P(y);if(typeof t!="number"||typeof a!="number"||typeof i!="number"||typeof p!="number"||isNaN(t)||isNaN(a)||isNaN(i)||isNaN(p)){h("Las dimensiones de las matrices deben ser números válidos");return}let L;switch(u){case"suma":if(t!==i||a!==p){h("Para sumar matrices, ambas deben tener las mismas dimensiones");return}console.log("Matriz A limpia antes de suma:",D),console.log("Matriz B limpia antes de suma:",V),L=D.map((ee,X)=>ee.map((W,N)=>{const F=V[X][N],x=W+F;return console.log(`Suma: ${W} + ${F} = ${x}`),x})),console.log("Matriz resultado de suma:",L);break;case"resta":if(t!==i||a!==p){h("Para restar matrices, ambas deben tener las mismas dimensiones");return}L=D.map((ee,X)=>ee.map((W,N)=>{const F=V[X][N];return W-F}));break;case"multiplicacion":if(a!==i){h("Para multiplicar matrices, el número de columnas de A debe ser igual al número de filas de B");return}L=Array(t).fill().map(()=>Array(p).fill(0));for(let ee=0;ee<t;ee++)for(let X=0;X<p;X++){let W=0;for(let N=0;N<a;N++){const F=D[ee][N],x=V[N][X];W+=F*x}L[ee][X]=W}break;case"determinanteA":if(!_t(D)){h("Solo se puede calcular el determinante de matrices cuadradas");return}if(t===1)L=D[0][0];else if(t===2)L=Et(D);else if(t===3)L=St(D);else{h("El cálculo de determinantes está implementado para matrices de hasta 3x3");return}break;case"determinanteB":if(!_t(V)){h("Solo se puede calcular el determinante de matrices cuadradas");return}if(i===1)L=V[0][0];else if(i===2)L=Et(V);else if(i===3)L=St(V);else{h("El cálculo de determinantes está implementado para matrices de hasta 3x3");return}break;default:h("Operación no válida");return}j(L)}catch(P){console.error("Error al realizar el cálculo:",P),h("Error en el cálculo: "+P.message)}},O=(P,D,V,L)=>e.jsx(M,{container:!0,spacing:1,children:Array(V).fill().map((ee,X)=>e.jsx(M,{item:!0,xs:12,children:e.jsx(g,{display:"flex",justifyContent:"center",children:Array(L).fill().map((W,N)=>e.jsx(G,{variant:"outlined",size:"small",type:"text",value:P[X][N]===0?"":P[X][N],onChange:F=>{try{const x=F.target.value;if(console.log("Entrada intento:",x),["","-",".","-.","-0.","0.","-0","0"].includes(x)){console.log("Entrada aceptada (patrón básico):",x),D(X,N,x);return}if(!isNaN(parseFloat(x))&&(/^-?\d+\.?\d*$/.test(x)||/^-?\d+\.$/.test(x))){console.log("Entrada aceptada (número válido):",x),D(X,N,x);return}console.log("Entrada rechazada:",x)}catch(x){console.error("Error en campo de texto:",x)}},onBlur:F=>{const x=F.target.value,c=parseInt(F.target.getAttribute("data-fila")),l=parseInt(F.target.getAttribute("data-col"));if(["","-",".","-."].includes(x)){console.log("Convirtiendo valor incompleto a 0:",x),D(c,l,0);return}if(/^-?\d+\.$/.test(x)){const _=parseFloat(x+"0");console.log(`Convirtiendo "${x}" a número ${_}`),D(c,l,_);return}if(!isNaN(parseFloat(x))){const _=parseFloat(x);console.log(`Convirtiendo "${x}" a número ${_}`),D(c,l,_);return}},inputProps:{"data-fila":X,"data-col":N,style:{textAlign:"center"},inputMode:"text",autoComplete:"off"},onFocus:F=>F.target.select(),sx:{width:"60px",m:.5},placeholder:"0"},N))})},X))}),z=P=>{const D=V=>{const L=Number(V);return L===0||Math.abs(L)<1e-10?"0":Number.isInteger(L)?L.toString():Math.abs(L)<.001?L.toExponential(2):parseFloat(L.toFixed(3)).toString()};return P===null?e.jsx(s,{children:"Realiza una operación para ver el resultado"}):typeof P=="string"?e.jsx(s,{color:"error",children:P}):typeof P=="number"?e.jsx(ae,{elevation:2,sx:{p:2,mt:2,width:"fit-content",mx:"auto"},children:e.jsx(s,{variant:"h6",align:"center",children:D(P)})}):e.jsx(ae,{elevation:2,sx:{p:2,mt:2,width:"fit-content",mx:"auto"},children:e.jsx(M,{container:!0,spacing:1,children:P.map((V,L)=>e.jsx(M,{item:!0,xs:12,children:e.jsx(g,{display:"flex",justifyContent:"center",children:V.map((ee,X)=>e.jsx(g,{sx:{width:"60px",height:"40px",m:.5,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:ee===0?"rgba(0,0,0,0.03)":"transparent"},children:D(ee)},X))})},L))})})};return e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Calculadora de Matrices"}),e.jsx(s,{paragraph:!0,children:"Crea matrices y realiza operaciones básicas como suma, resta, multiplicación y cálculo de determinantes."}),e.jsxs(M,{container:!0,spacing:3,children:[e.jsx(M,{item:!0,xs:12,md:5,children:e.jsxs(ae,{elevation:3,sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Matriz A"}),e.jsx(g,{mb:2,children:e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:6,children:e.jsx(G,{fullWidth:!0,label:"Filas",name:"filasA",type:"text",value:t,onChange:S,onBlur:P=>{(P.target.value===""||isNaN(parseInt(P.target.value)))&&(n(2),E(le(2,a)))},inputProps:{inputMode:"numeric",pattern:"[1-5]",style:{textAlign:"center"}}})}),e.jsx(M,{item:!0,xs:6,children:e.jsx(G,{fullWidth:!0,label:"Columnas",name:"columnasA",type:"text",value:a,onChange:S,onBlur:P=>{(P.target.value===""||isNaN(parseInt(P.target.value)))&&(r(2),E(le(t,2)))},inputProps:{inputMode:"numeric",pattern:"[1-5]",style:{textAlign:"center"}}})})]})}),O(f,I,t,a)]})}),e.jsx(M,{item:!0,xs:12,md:2,display:"flex",alignItems:"center",justifyContent:"center",children:e.jsxs(ae,{elevation:3,sx:{p:2,width:"100%"},children:[e.jsxs(_e,{fullWidth:!0,children:[e.jsx(Fe,{children:"Operación"}),e.jsxs(Ae,{value:u,onChange:P=>o(P.target.value),label:"Operación",children:[e.jsx(ce,{value:"suma",children:"Suma (A + B)"}),e.jsx(ce,{value:"resta",children:"Resta (A - B)"}),e.jsx(ce,{value:"multiplicacion",children:"Multiplicación (A × B)"}),e.jsx(ce,{value:"determinanteA",children:"Determinante de A"}),e.jsx(ce,{value:"determinanteB",children:"Determinante de B"})]})]}),e.jsx(te,{variant:"contained",color:"primary",fullWidth:!0,onClick:q,sx:{mt:2},children:"Calcular"})]})}),e.jsx(M,{item:!0,xs:12,md:5,children:e.jsxs(ae,{elevation:3,sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Matriz B"}),e.jsx(g,{mb:2,children:e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:6,children:e.jsx(G,{fullWidth:!0,label:"Filas",name:"filasB",type:"text",value:i,onChange:T,onBlur:P=>{(P.target.value===""||isNaN(parseInt(P.target.value)))&&(d(2),R(le(2,p)))},inputProps:{inputMode:"numeric",pattern:"[1-5]",style:{textAlign:"center"}}})}),e.jsx(M,{item:!0,xs:6,children:e.jsx(G,{fullWidth:!0,label:"Columnas",name:"columnasB",type:"text",value:p,onChange:T,onBlur:P=>{(P.target.value===""||isNaN(parseInt(P.target.value)))&&(v(2),R(le(i,2)))},inputProps:{inputMode:"numeric",pattern:"[1-5]",style:{textAlign:"center"}}})})]})}),O(y,$,i,p)]})})]}),m&&e.jsx(g,{mt:3,textAlign:"center",children:e.jsx(s,{color:"error",children:m})}),e.jsx(ae,{elevation:3,sx:{p:2,mt:3},children:z(k)})]})}const kt={type:"change"},rt={type:"start"},Jt={type:"end"},Ve=new ya,wt=new Ma,Wn=Math.cos(70*Ca.DEG2RAD),he=new se,ge=2*Math.PI,ne={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},He=1e-6;class Un extends va{constructor(n,a=null){super(n,a),this.state=ne.NONE,this.enabled=!0,this.target=new se,this.cursor=new se,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Re.ROTATE,MIDDLE:Re.DOLLY,RIGHT:Re.PAN},this.touches={ONE:Te.ROTATE,TWO:Te.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new se,this._lastQuaternion=new Xe,this._lastTargetPosition=new se,this._quat=new Xe().setFromUnitVectors(n.up,new se(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new ut,this._sphericalDelta=new ut,this._scale=1,this._panOffset=new se,this._rotateStart=new be,this._rotateEnd=new be,this._rotateDelta=new be,this._panStart=new be,this._panEnd=new be,this._panDelta=new be,this._dollyStart=new be,this._dollyEnd=new be,this._dollyDelta=new be,this._dollyDirection=new se,this._mouse=new be,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Gn.bind(this),this._onPointerDown=qn.bind(this),this._onPointerUp=Yn.bind(this),this._onContextMenu=ei.bind(this),this._onMouseWheel=Xn.bind(this),this._onKeyDown=Zn.bind(this),this._onTouchStart=Jn.bind(this),this._onTouchMove=Qn.bind(this),this._onMouseDown=Hn.bind(this),this._onMouseMove=Kn.bind(this),this._interceptControlDown=ti.bind(this),this._interceptControlUp=ai.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(n){n.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=n}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(kt),this.update(),this.state=ne.NONE}update(n=null){const a=this.object.position;he.copy(a).sub(this.target),he.applyQuaternion(this._quat),this._spherical.setFromVector3(he),this.autoRotate&&this.state===ne.NONE&&this._rotateLeft(this._getAutoRotationAngle(n)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=ge:r>Math.PI&&(r-=ge),i<-Math.PI?i+=ge:i>Math.PI&&(i-=ge),r<=i?this._spherical.theta=Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let d=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const p=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),d=p!=this._spherical.radius}if(he.setFromSpherical(this._spherical),he.applyQuaternion(this._quatInverse),a.copy(this.target).add(he),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let p=null;if(this.object.isPerspectiveCamera){const v=he.length();p=this._clampDistance(v*this._scale);const f=v-p;this.object.position.addScaledVector(this._dollyDirection,f),this.object.updateMatrixWorld(),d=!!f}else if(this.object.isOrthographicCamera){const v=new se(this._mouse.x,this._mouse.y,0);v.unproject(this.object);const f=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),d=f!==this.object.zoom;const E=new se(this._mouse.x,this._mouse.y,0);E.unproject(this.object),this.object.position.sub(E).add(v),this.object.updateMatrixWorld(),p=he.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;p!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(p).add(this.object.position):(Ve.origin.copy(this.object.position),Ve.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(Ve.direction))<Wn?this.object.lookAt(this.target):(wt.setFromNormalAndCoplanarPoint(this.object.up,this.target),Ve.intersectPlane(wt,this.target))))}else if(this.object.isOrthographicCamera){const p=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),p!==this.object.zoom&&(this.object.updateProjectionMatrix(),d=!0)}return this._scale=1,this._performCursorZoom=!1,d||this._lastPosition.distanceToSquared(this.object.position)>He||8*(1-this._lastQuaternion.dot(this.object.quaternion))>He||this._lastTargetPosition.distanceToSquared(this.target)>He?(this.dispatchEvent(kt),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(n){return n!==null?ge/60*this.autoRotateSpeed*n:ge/60/60*this.autoRotateSpeed}_getZoomScale(n){const a=Math.abs(n*.01);return Math.pow(.95,this.zoomSpeed*a)}_rotateLeft(n){this._sphericalDelta.theta-=n}_rotateUp(n){this._sphericalDelta.phi-=n}_panLeft(n,a){he.setFromMatrixColumn(a,0),he.multiplyScalar(-n),this._panOffset.add(he)}_panUp(n,a){this.screenSpacePanning===!0?he.setFromMatrixColumn(a,1):(he.setFromMatrixColumn(a,0),he.crossVectors(this.object.up,he)),he.multiplyScalar(n),this._panOffset.add(he)}_pan(n,a){const r=this.domElement;if(this.object.isPerspectiveCamera){const i=this.object.position;he.copy(i).sub(this.target);let d=he.length();d*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*n*d/r.clientHeight,this.object.matrix),this._panUp(2*a*d/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(n*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(a*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(n){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=n:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(n){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=n:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(n,a){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),i=n-r.left,d=a-r.top,p=r.width,v=r.height;this._mouse.x=i/p*2-1,this._mouse.y=-(d/v)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(n){return Math.max(this.minDistance,Math.min(this.maxDistance,n))}_handleMouseDownRotate(n){this._rotateStart.set(n.clientX,n.clientY)}_handleMouseDownDolly(n){this._updateZoomParameters(n.clientX,n.clientX),this._dollyStart.set(n.clientX,n.clientY)}_handleMouseDownPan(n){this._panStart.set(n.clientX,n.clientY)}_handleMouseMoveRotate(n){this._rotateEnd.set(n.clientX,n.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const a=this.domElement;this._rotateLeft(ge*this._rotateDelta.x/a.clientHeight),this._rotateUp(ge*this._rotateDelta.y/a.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(n){this._dollyEnd.set(n.clientX,n.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(n){this._panEnd.set(n.clientX,n.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(n){this._updateZoomParameters(n.clientX,n.clientY),n.deltaY<0?this._dollyIn(this._getZoomScale(n.deltaY)):n.deltaY>0&&this._dollyOut(this._getZoomScale(n.deltaY)),this.update()}_handleKeyDown(n){let a=!1;switch(n.code){case this.keys.UP:n.ctrlKey||n.metaKey||n.shiftKey?this.enableRotate&&this._rotateUp(ge*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),a=!0;break;case this.keys.BOTTOM:n.ctrlKey||n.metaKey||n.shiftKey?this.enableRotate&&this._rotateUp(-ge*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),a=!0;break;case this.keys.LEFT:n.ctrlKey||n.metaKey||n.shiftKey?this.enableRotate&&this._rotateLeft(ge*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),a=!0;break;case this.keys.RIGHT:n.ctrlKey||n.metaKey||n.shiftKey?this.enableRotate&&this._rotateLeft(-ge*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),a=!0;break}a&&(n.preventDefault(),this.update())}_handleTouchStartRotate(n){if(this._pointers.length===1)this._rotateStart.set(n.pageX,n.pageY);else{const a=this._getSecondPointerPosition(n),r=.5*(n.pageX+a.x),i=.5*(n.pageY+a.y);this._rotateStart.set(r,i)}}_handleTouchStartPan(n){if(this._pointers.length===1)this._panStart.set(n.pageX,n.pageY);else{const a=this._getSecondPointerPosition(n),r=.5*(n.pageX+a.x),i=.5*(n.pageY+a.y);this._panStart.set(r,i)}}_handleTouchStartDolly(n){const a=this._getSecondPointerPosition(n),r=n.pageX-a.x,i=n.pageY-a.y,d=Math.sqrt(r*r+i*i);this._dollyStart.set(0,d)}_handleTouchStartDollyPan(n){this.enableZoom&&this._handleTouchStartDolly(n),this.enablePan&&this._handleTouchStartPan(n)}_handleTouchStartDollyRotate(n){this.enableZoom&&this._handleTouchStartDolly(n),this.enableRotate&&this._handleTouchStartRotate(n)}_handleTouchMoveRotate(n){if(this._pointers.length==1)this._rotateEnd.set(n.pageX,n.pageY);else{const r=this._getSecondPointerPosition(n),i=.5*(n.pageX+r.x),d=.5*(n.pageY+r.y);this._rotateEnd.set(i,d)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const a=this.domElement;this._rotateLeft(ge*this._rotateDelta.x/a.clientHeight),this._rotateUp(ge*this._rotateDelta.y/a.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(n){if(this._pointers.length===1)this._panEnd.set(n.pageX,n.pageY);else{const a=this._getSecondPointerPosition(n),r=.5*(n.pageX+a.x),i=.5*(n.pageY+a.y);this._panEnd.set(r,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(n){const a=this._getSecondPointerPosition(n),r=n.pageX-a.x,i=n.pageY-a.y,d=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,d),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const p=(n.pageX+a.x)*.5,v=(n.pageY+a.y)*.5;this._updateZoomParameters(p,v)}_handleTouchMoveDollyPan(n){this.enableZoom&&this._handleTouchMoveDolly(n),this.enablePan&&this._handleTouchMovePan(n)}_handleTouchMoveDollyRotate(n){this.enableZoom&&this._handleTouchMoveDolly(n),this.enableRotate&&this._handleTouchMoveRotate(n)}_addPointer(n){this._pointers.push(n.pointerId)}_removePointer(n){delete this._pointerPositions[n.pointerId];for(let a=0;a<this._pointers.length;a++)if(this._pointers[a]==n.pointerId){this._pointers.splice(a,1);return}}_isTrackingPointer(n){for(let a=0;a<this._pointers.length;a++)if(this._pointers[a]==n.pointerId)return!0;return!1}_trackPointer(n){let a=this._pointerPositions[n.pointerId];a===void 0&&(a=new be,this._pointerPositions[n.pointerId]=a),a.set(n.pageX,n.pageY)}_getSecondPointerPosition(n){const a=n.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[a]}_customWheelEvent(n){const a=n.deltaMode,r={clientX:n.clientX,clientY:n.clientY,deltaY:n.deltaY};switch(a){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return n.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function qn(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function Gn(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function Yn(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Jt),this.state=ne.NONE;break;case 1:const n=this._pointers[0],a=this._pointerPositions[n];this._onTouchStart({pointerId:n,pageX:a.x,pageY:a.y});break}}function Hn(t){let n;switch(t.button){case 0:n=this.mouseButtons.LEFT;break;case 1:n=this.mouseButtons.MIDDLE;break;case 2:n=this.mouseButtons.RIGHT;break;default:n=-1}switch(n){case Re.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=ne.DOLLY;break;case Re.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=ne.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=ne.ROTATE}break;case Re.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=ne.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=ne.PAN}break;default:this.state=ne.NONE}this.state!==ne.NONE&&this.dispatchEvent(rt)}function Kn(t){switch(this.state){case ne.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case ne.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case ne.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function Xn(t){this.enabled===!1||this.enableZoom===!1||this.state!==ne.NONE||(t.preventDefault(),this.dispatchEvent(rt),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(Jt))}function Zn(t){this.enabled!==!1&&this._handleKeyDown(t)}function Jn(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case Te.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=ne.TOUCH_ROTATE;break;case Te.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=ne.TOUCH_PAN;break;default:this.state=ne.NONE}break;case 2:switch(this.touches.TWO){case Te.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=ne.TOUCH_DOLLY_PAN;break;case Te.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=ne.TOUCH_DOLLY_ROTATE;break;default:this.state=ne.NONE}break;default:this.state=ne.NONE}this.state!==ne.NONE&&this.dispatchEvent(rt)}function Qn(t){switch(this._trackPointer(t),this.state){case ne.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case ne.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case ne.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case ne.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=ne.NONE}}function ei(t){this.enabled!==!1&&t.preventDefault()}function ti(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function ai(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const ni=(t,n)=>[t[0]+n[0],t[1]+n[1],t[2]+n[2]],ii=(t,n)=>[t[0]-n[0],t[1]-n[1],t[2]-n[2]],si=(t,n)=>[t*n[0],t*n[1],t*n[2]],ri=(t,n)=>t[0]*n[0]+t[1]*n[1]+t[2]*n[2],Tt=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),oi=(t,n)=>[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]],we=(t,n,a,r)=>{const i=new Sa({color:a}),d=new se(n[0]-t[0],n[1]-t[1],n[2]-t[2]),p=d.length();d.normalize();const v=new ka(.05,.05,p,12),f=new se(0,1,0),E=new se().copy(d),y=new Xe().setFromUnitVectors(f,E);v.translate(0,p/2,0),v.applyQuaternion(y);const R=new We(v,i);R.position.set(t[0],t[1],t[2]);const k=new wa(.15,.3,12);k.translate(0,p+.15,0),k.applyQuaternion(y);const j=new We(k,i);j.position.set(t[0],t[1],t[2]);const u=new Ta;return u.add(R),u.add(j),r.add(u),u};function li(){const[t,n]=C.useState([3,2,1]),[a,r]=C.useState([1,4,2]),[i,d]=C.useState(2),[p,v]=C.useState(!0),[f,E]=C.useState(!1),[y,R]=C.useState(!1),[k,j]=C.useState(!1),[u,o]=C.useState(10),m=C.useRef(null),h=C.useRef(null),S=C.useRef(null),T=C.useRef([]),I=ni(t,a),$=ii(t,a),q=si(i,t),O=oi(t,a),z=ri(t,a),P=Tt(t),D=Tt(a),V=z/(P*D),L=Math.acos(Math.min(Math.max(V,-1),1))*(180/Math.PI),ee=(W,N)=>{const F=[...t];F[W]=Number(N),n(F)},X=(W,N)=>{const F=[...a];F[W]=Number(N),r(F)};return C.useEffect(()=>{if(!m.current)return;const W=new Bt;W.background=new zt(2236962),h.current=W;const N=m.current.clientWidth/m.current.clientHeight,F=new Lt(75,N,.1,1e3);F.position.set(5,5,5),F.lookAt(0,0,0);const x=new Nt({antialias:!0});for(x.setSize(m.current.clientWidth,m.current.clientHeight);m.current.firstChild;)m.current.removeChild(m.current.firstChild);m.current.appendChild(x.domElement);const c=new Un(F,x.domElement);c.enableDamping=!0,c.dampingFactor=.25,S.current=c;const l=new Dt(u);W.add(l);const b=new $t(u*2,20);W.add(b);const _=(A,Y)=>{const Z=document.createElement("canvas");Z.width=64,Z.height=32;const H=Z.getContext("2d");H.fillStyle="white",H.font="24px Arial",H.textAlign="center",H.textBaseline="middle",H.fillText(A,32,16);const U=new Pa(Z),K=new _a({map:U}),J=new Ea(K);J.position.copy(Y),J.scale.set(1,.5,1),W.add(J)};_("X",new se(u+1,0,0)),_("Y",new se(0,u+1,0)),_("Z",new se(0,0,u+1));const B=()=>{requestAnimationFrame(B),c.update(),x.render(W,F)};return B(),()=>{x.dispose(),m.current&&x.domElement&&m.current.removeChild(x.domElement)}},[u]),C.useEffect(()=>{if(!h.current)return;T.current.forEach(x=>{h.current.remove(x),x.traverse(c=>{c.geometry&&c.geometry.dispose(),c.material&&c.material.dispose()})}),T.current=[];const W=[0,0,0],N=we(W,t,8946904,h.current),F=we(W,a,8571549,h.current);if(T.current.push(N,F),p){const x=we(W,I,16741120,h.current);T.current.push(x);const c=new se(t[0],t[1],t[2]),l=new se(a[0],a[1],a[2]),b=new se(I[0],I[1],I[2]),_=new Ze().setFromPoints([c,b]),B=new ht({color:16741120,opacity:.5,transparent:!0}),A=new mt(_,B);h.current.add(A),T.current.push(A);const Y=new Ze().setFromPoints([l,b]),Z=new ht({color:16741120,opacity:.5,transparent:!0}),H=new mt(Y,Z);h.current.add(H),T.current.push(H)}if(f){const x=we(W,$,16734003,h.current);T.current.push(x)}if(y){const x=we(W,q,13041721,h.current);T.current.push(x)}if(k){const x=we(W,O,4504524,h.current);T.current.push(x)}},[t,a,i,p,f,y,k]),e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Visualizador de Vectores 3D"}),e.jsx(s,{paragraph:!0,children:"Define vectores y visualiza sus operaciones básicas como suma, resta y multiplicación por escalar en el espacio tridimensional."}),e.jsxs(M,{container:!0,spacing:3,children:[e.jsxs(M,{item:!0,xs:12,md:4,children:[e.jsxs(ae,{elevation:3,sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Vector 1"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{label:"X",type:"number",value:t[0],onChange:W=>ee(0,W.target.value),fullWidth:!0,margin:"normal"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{label:"Y",type:"number",value:t[1],onChange:W=>ee(1,W.target.value),fullWidth:!0,margin:"normal"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{label:"Z",type:"number",value:t[2],onChange:W=>ee(2,W.target.value),fullWidth:!0,margin:"normal"})})]}),e.jsx(s,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Vector 2"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{label:"X",type:"number",value:a[0],onChange:W=>X(0,W.target.value),fullWidth:!0,margin:"normal"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{label:"Y",type:"number",value:a[1],onChange:W=>X(1,W.target.value),fullWidth:!0,margin:"normal"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{label:"Z",type:"number",value:a[2],onChange:W=>X(2,W.target.value),fullWidth:!0,margin:"normal"})})]}),e.jsx(s,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Escalar"}),e.jsx(oe,{value:i,onChange:(W,N)=>d(N),min:-5,max:5,step:.1,valueLabelDisplay:"auto","aria-labelledby":"escalar-slider"}),e.jsx(s,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Operaciones"}),e.jsx(Pe,{control:e.jsx(Oe,{checked:p,onChange:W=>v(W.target.checked),color:"primary"}),label:"Mostrar Suma (V1 + V2)"}),e.jsx(Pe,{control:e.jsx(Oe,{checked:f,onChange:W=>E(W.target.checked),color:"primary"}),label:"Mostrar Resta (V1 - V2)"}),e.jsx(Pe,{control:e.jsx(Oe,{checked:y,onChange:W=>R(W.target.checked),color:"primary"}),label:`Mostrar Escalar (${i} × V1)`}),e.jsx(Pe,{control:e.jsx(Oe,{checked:k,onChange:W=>j(W.target.checked),color:"primary"}),label:"Mostrar Producto Vectorial (V1 × V2)"}),e.jsx(s,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Rango de Visualización"}),e.jsx(oe,{value:u,onChange:(W,N)=>o(N),min:5,max:20,step:1,valueLabelDisplay:"auto","aria-labelledby":"rango-slider"})]}),e.jsxs(ae,{elevation:3,sx:{p:2,mt:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Resultados"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsxs(M,{item:!0,xs:6,children:[e.jsx(s,{variant:"subtitle2",children:"|V1| ="}),e.jsx(s,{children:P.toFixed(2)})]}),e.jsxs(M,{item:!0,xs:6,children:[e.jsx(s,{variant:"subtitle2",children:"|V2| ="}),e.jsx(s,{children:D.toFixed(2)})]}),e.jsxs(M,{item:!0,xs:12,children:[e.jsx(s,{variant:"subtitle2",children:"V1 · V2 ="}),e.jsx(s,{children:z.toFixed(2)})]}),e.jsxs(M,{item:!0,xs:12,children:[e.jsx(s,{variant:"subtitle2",children:"Ángulo entre V1 y V2:"}),e.jsxs(s,{children:[L.toFixed(2),"°"]})]}),e.jsxs(M,{item:!0,xs:12,children:[e.jsx(s,{variant:"subtitle2",children:"V1 × V2 ="}),e.jsxs(s,{children:["(",O[0].toFixed(2),", ",O[1].toFixed(2),", ",O[2].toFixed(2),")"]})]})]})]})]}),e.jsx(M,{item:!0,xs:12,md:8,children:e.jsxs(ae,{elevation:3,sx:{p:0,height:"600px",bgcolor:"#111",position:"relative"},children:[e.jsx(g,{ref:m,sx:{width:"100%",height:"100%"}}),e.jsxs(g,{sx:{position:"absolute",bottom:16,right:16,bgcolor:"rgba(0,0,0,0.7)",padding:1,borderRadius:1,color:"white"},children:[e.jsxs(s,{variant:"caption",display:"block",children:[e.jsx(g,{component:"span",sx:{color:"#8884d8",display:"inline-block",width:"1em",height:"1em",bgcolor:"#8884d8",mr:1}}),"Vector 1: (",t[0],", ",t[1],", ",t[2],")"]}),e.jsxs(s,{variant:"caption",display:"block",children:[e.jsx(g,{component:"span",sx:{color:"#82ca9d",display:"inline-block",width:"1em",height:"1em",bgcolor:"#82ca9d",mr:1}}),"Vector 2: (",a[0],", ",a[1],", ",a[2],")"]}),p&&e.jsxs(s,{variant:"caption",display:"block",children:[e.jsx(g,{component:"span",sx:{color:"#ff7300",display:"inline-block",width:"1em",height:"1em",bgcolor:"#ff7300",mr:1}}),"Suma: (",I[0],", ",I[1],", ",I[2],")"]}),f&&e.jsxs(s,{variant:"caption",display:"block",children:[e.jsx(g,{component:"span",sx:{color:"#FF5733",display:"inline-block",width:"1em",height:"1em",bgcolor:"#FF5733",mr:1}}),"Resta: (",$[0],", ",$[1],", ",$[2],")"]}),y&&e.jsxs(s,{variant:"caption",display:"block",children:[e.jsx(g,{component:"span",sx:{color:"#C70039",display:"inline-block",width:"1em",height:"1em",bgcolor:"#C70039",mr:1}}),"Escalar × V1: (",q[0],", ",q[1],", ",q[2],")"]}),k&&e.jsxs(s,{variant:"caption",display:"block",children:[e.jsx(g,{component:"span",sx:{color:"#44BBCC",display:"inline-block",width:"1em",height:"1em",bgcolor:"#44BBCC",mr:1}}),"V1 × V2: (",O[0].toFixed(1),", ",O[1].toFixed(1),", ",O[2].toFixed(1),")"]})]}),e.jsx(g,{sx:{position:"absolute",top:16,left:16,bgcolor:"rgba(0,0,0,0.7)",padding:1,borderRadius:1,color:"white",maxWidth:"250px"},children:e.jsx(s,{variant:"caption",children:"Arrastra para rotar la vista. Usa la rueda del ratón para hacer zoom. Click derecho para mover."})})]})})]})]})}const Rt=t=>{const n=Math.max(1,Math.floor(Number(t)||3));return Array(n).fill().map(()=>Array(n).fill(0))};function ci(){const[t,n]=C.useState(3),[a,r]=C.useState("3"),[i,d]=C.useState(Rt(3)),[p,v]=C.useState(Array(3).fill(0)),[f,E]=C.useState(null),[y,R]=C.useState(""),[k,j]=C.useState(""),[u,o]=C.useState("gauss"),[m,h]=C.useState([]),[S,T]=C.useState(!1);C.useEffect(()=>{if(typeof t=="number"&&!isNaN(t)){const N=Rt(t),F=Array(t).fill(0);d(N),v(F),E(null),R(""),j(""),h([])}},[t]);const I=N=>{try{const{value:F}=N.target;if(r(F),F==="")return;const x=parseInt(F);if(isNaN(x))return;if(x<1){n(1),r("1");return}if(x>8){n(8),r("8");return}n(x)}catch(F){console.error("Error al cambiar dimensiones:",F),n(3),r("3")}},$=()=>{if(a===""||isNaN(parseInt(a)))n(3),r("3");else{const N=parseInt(a);N<1?(n(1),r("1")):N>8?(n(8),r("8")):(n(N),r(N.toString()))}},q=(N,F)=>{n(F),r(F.toString())},O=(N,F,x)=>{try{const c=[...i];if(console.log(`Procesando cambio en coeficiente[${N}][${F}], valor:`,x,"tipo:",typeof x),typeof x=="number"){c[N][F]=x,console.log(`  -> Asignado número directamente: ${x}`),d(c);return}if(typeof x!="string"){console.log("  -> Valor no es string ni número, ignorando");return}if(["","-",".","-.","-0.","0.","-0","0"].includes(x)){c[N][F]=x,console.log(`  -> Mantenido valor básico: "${x}"`),d(c);return}if(!isNaN(parseFloat(x))){if(/^-?\d+\.$/.test(x)){c[N][F]=x,console.log(`  -> Mantenido número en edición: "${x}"`),d(c);return}if(/^-?\d+\.?\d*$/.test(x)){const b=parseFloat(x);c[N][F]=b,console.log(`  -> Convertido a número: ${x} -> ${b}`),d(c);return}}console.log(`  -> Valor rechazado: "${x}"`)}catch(c){console.error("Error al cambiar coeficiente:",c)}},z=(N,F)=>{try{const x=[...p];if(console.log(`Procesando cambio en constante[${N}], valor:`,F,"tipo:",typeof F),typeof F=="number"){x[N]=F,console.log(`  -> Asignado número directamente: ${F}`),v(x);return}if(typeof F!="string"){console.log("  -> Valor no es string ni número, ignorando");return}if(["","-",".","-.","-0.","0.","-0","0"].includes(F)){x[N]=F,console.log(`  -> Mantenido valor básico: "${F}"`),v(x);return}if(!isNaN(parseFloat(F))){if(/^-?\d+\.$/.test(F)){x[N]=F,console.log(`  -> Mantenido número en edición: "${F}"`),v(x);return}if(/^-?\d+\.?\d*$/.test(F)){const l=parseFloat(F);x[N]=l,console.log(`  -> Convertido a número: ${F} -> ${l}`),v(x);return}}console.log(`  -> Valor rechazado: "${F}"`)}catch(x){console.error("Error al cambiar constante:",x)}},P=N=>{if(typeof N=="string"){if(console.log("Limpiando valor string:",N),["","-",".","-."].includes(N))return console.log("  -> convertido a 0 (patrón especial)"),0;if(/^-?\d+\.$/.test(N)){const c=parseFloat(N+"0");return console.log(`  -> número con punto al final, convertido a ${c}`),c}if(/^-?\d+\.\d+$/.test(N)){const c=parseFloat(N);return console.log(`  -> número decimal, convertido a ${c}`),c}const x=parseFloat(N);return isNaN(x)?(console.log("  -> no es un número válido, convertido a 0"),0):(console.log(`  -> convertido a número: ${x}`),x)}return typeof N=="number"&&!isNaN(N)?N:(console.log("Valor no reconocido, convertido a 0:",N,typeof N),0)},D=N=>{const F=Number(N);return F===0||Math.abs(F)<1e-10?"0":Number.isInteger(F)?F.toString():Math.abs(F)<.001?F.toExponential(2):parseFloat(F.toFixed(3)).toString()},V=(N,F)=>{const x=N.length,c=N.map((A,Y)=>[...A,F[Y]]),l=[{descripcion:"Matriz aumentada inicial [A|b]",matriz:JSON.parse(JSON.stringify(c))}];for(let A=0;A<x;A++){let Y=A;for(let H=A+1;H<x;H++)Math.abs(c[H][A])>Math.abs(c[Y][A])&&(Y=H);if(Y!==A&&([c[A],c[Y]]=[c[Y],c[A]],l.push({descripcion:`Intercambio de filas ${A+1} y ${Y+1}`,matriz:JSON.parse(JSON.stringify(c))})),Math.abs(c[A][A])<1e-10)continue;const Z=c[A][A];for(let H=A;H<=x;H++)c[A][H]/=Z;l.push({descripcion:`Normalización de la fila ${A+1} (dividir por ${D(Z)})`,matriz:JSON.parse(JSON.stringify(c))});for(let H=0;H<x;H++)if(H!==A){const U=c[H][A];for(let K=A;K<=x;K++)c[H][K]-=U*c[A][K];l.push({descripcion:`Eliminación en la fila ${H+1} usando la fila ${A+1} (factor: ${D(U)})`,matriz:JSON.parse(JSON.stringify(c))})}}let b="única",_=Array(x).fill(null),B=0;for(let A=0;A<x;A++){let Y=!0;for(let Z=0;Z<x;Z++)if(Math.abs(c[A][Z])>=1e-10){Y=!1;break}if(Y){if(Math.abs(c[A][x])>=1e-10){b="ninguna";break}B++}}if(b!=="ninguna"&&B>0&&(b="infinitas"),b==="única"){for(let A=0;A<x;A++)for(let Y=0;Y<x;Y++)if(Math.abs(c[Y][A]-1)<1e-10){let Z=!0;for(let H=0;H<x;H++)if(H!==A&&Math.abs(c[Y][H])>=1e-10){Z=!1;break}if(Z){_[A]=c[Y][x];break}}for(let A=0;A<x;A++)if(_[A]===null){b="infinitas";break}}return{matrizFinal:c,solucion:_,tipoSolucion:b,pasos:l}},L=()=>{try{j(""),E(null),R(""),h([]);const N=i.map(x=>x.map(c=>P(c))),F=p.map(x=>P(x));if(console.log("Matriz de coeficientes limpia:",N),console.log("Vector de constantes limpio:",F),u==="gauss"){const x=V(N,F);E(x.solucion),R(x.tipoSolucion),h(x.pasos)}else j("Método no implementado")}catch(N){console.error("Error al resolver el sistema:",N),j("Error en el cálculo: "+N.message)}},ee=()=>{const N=typeof t=="number"&&!isNaN(t)?t:3;return e.jsx(M,{container:!0,spacing:1,children:Array(N).fill().map((F,x)=>e.jsx(M,{item:!0,xs:12,children:e.jsxs(g,{display:"flex",alignItems:"center",mb:1,children:[Array(N).fill().map((c,l)=>e.jsxs(g,{display:"flex",alignItems:"center",children:[e.jsx(G,{variant:"outlined",size:"small",type:"text",value:i[x]&&i[x][l]===0?"":i[x]?i[x][l]:"",onChange:b=>{try{const _=b.target.value;if(["","-",".","-.","-0.","0.","-0","0"].includes(_)){O(x,l,_);return}if(!isNaN(parseFloat(_))&&(/^-?\d+\.?\d*$/.test(_)||/^-?\d+\.$/.test(_))){O(x,l,_);return}}catch(_){console.error("Error en campo de texto:",_)}},onBlur:b=>{const _=b.target.value;if(["","-",".","-."].includes(_)){O(x,l,0);return}if(/^-?\d+\.$/.test(_)){const A=parseFloat(_+"0");O(x,l,A);return}if(!isNaN(parseFloat(_))){const A=parseFloat(_);O(x,l,A);return}},inputProps:{style:{textAlign:"center"},inputMode:"text",autoComplete:"off"},onFocus:b=>b.target.select(),sx:{width:"60px",mx:.5},placeholder:"0"}),e.jsx(s,{sx:{mx:.5},children:l<N-1?`x${l+1} +`:`x${l+1} =`})]},l)),e.jsx(G,{variant:"outlined",size:"small",type:"text",value:p[x]===0?"":p[x],onChange:c=>{try{const l=c.target.value;if(["","-",".","-.","-0.","0.","-0","0"].includes(l)){z(x,l);return}if(!isNaN(parseFloat(l))&&(/^-?\d+\.?\d*$/.test(l)||/^-?\d+\.$/.test(l))){z(x,l);return}}catch(l){console.error("Error en campo de texto:",l)}},onBlur:c=>{const l=c.target.value;if(["","-",".","-."].includes(l)){z(x,0);return}if(/^-?\d+\.$/.test(l)){const _=parseFloat(l+"0");z(x,_);return}if(!isNaN(parseFloat(l))){const _=parseFloat(l);z(x,_);return}},inputProps:{style:{textAlign:"center"},inputMode:"text",autoComplete:"off"},onFocus:c=>c.target.select(),sx:{width:"60px",mx:.5},placeholder:"0"})]})},x))})},X=()=>k?e.jsx(me,{severity:"error",sx:{mt:2},children:k}):f?y==="ninguna"?e.jsx(me,{severity:"info",sx:{mt:2},children:"El sistema no tiene solución."}):y==="infinitas"?e.jsx(me,{severity:"info",sx:{mt:2},children:"El sistema tiene infinitas soluciones."}):e.jsxs(ae,{elevation:2,sx:{p:2,mt:2,width:"fit-content",mx:"auto"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Solución:"}),e.jsx(M,{container:!0,spacing:1,children:f.map((N,F)=>e.jsx(M,{item:!0,children:e.jsx(g,{sx:{p:1,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"4px",minWidth:"80px",textAlign:"center"},children:e.jsxs(s,{children:["x",e.jsx("sub",{children:F+1})," = ",D(N)]})})},F))})]}):e.jsx(s,{sx:{mt:2},children:'Ingrese los coeficientes y presione "Resolver" para obtener la solución.'}),W=()=>!S||m.length===0?null:e.jsxs(g,{sx:{mt:4},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Pasos de resolución:"}),m.map((N,F)=>e.jsxs(ae,{elevation:1,sx:{p:2,mt:2},children:[e.jsxs(s,{variant:"subtitle1",gutterBottom:!0,children:["Paso ",F+1,": ",N.descripcion]}),e.jsx(g,{sx:{overflowX:"auto"},children:e.jsx("table",{style:{borderCollapse:"collapse",margin:"0 auto"},children:e.jsx("tbody",{children:N.matriz.map((x,c)=>e.jsx("tr",{children:x.map((l,b)=>e.jsxs("td",{style:{padding:"6px 10px",textAlign:"center",border:"1px solid rgba(0,0,0,0.12)",backgroundColor:b===x.length-1?"rgba(0,0,0,0.05)":"transparent"},children:[b===x.length-1&&b>0?"| ":"",D(l)]},b))},c))})})})]},F))]});return e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Resolución de Sistemas de Ecuaciones Cuadrados (nxn)"}),e.jsx(s,{paragraph:!0,children:"Resuelve sistemas de ecuaciones lineales cuadrados de la forma Ax = b mediante el método de Gauss-Jordan."}),e.jsxs(ae,{elevation:3,sx:{p:3,mb:3},children:[e.jsxs(M,{container:!0,spacing:3,children:[e.jsx(M,{item:!0,xs:12,md:6,children:e.jsxs(g,{mb:2,children:[e.jsx(G,{fullWidth:!0,label:"Dimensión del sistema (n)",name:"dimension",type:"text",value:a,onChange:I,onBlur:$,inputProps:{inputMode:"numeric",pattern:"[1-8]",style:{textAlign:"center"}},helperText:"Número de ecuaciones y variables (entre 1 y 8)"}),e.jsxs(g,{sx:{mt:2,px:2},children:[e.jsx(s,{gutterBottom:!0,children:"Tamaño del sistema"}),e.jsx(oe,{value:typeof t=="number"&&!isNaN(t)?t:3,onChange:q,min:1,max:8,step:1,marks:!0,valueLabelDisplay:"auto","aria-labelledby":"dimension-slider"})]})]})}),e.jsx(M,{item:!0,xs:12,md:6,children:e.jsxs(_e,{fullWidth:!0,sx:{mb:2},children:[e.jsx(Fe,{children:"Método de resolución"}),e.jsx(Ae,{value:u,onChange:N=>o(N.target.value),label:"Método de resolución",children:e.jsx(ce,{value:"gauss",children:"Gauss-Jordan"})})]})})]}),e.jsx(je,{sx:{my:2}}),e.jsxs(s,{variant:"h6",gutterBottom:!0,children:["Sistema de ecuaciones (",typeof t=="number"&&!isNaN(t)?t:3,"x",typeof t=="number"&&!isNaN(t)?t:3,"):"]}),ee(),e.jsxs(g,{sx:{mt:3,display:"flex",justifyContent:"space-between"},children:[e.jsx(te,{variant:"outlined",onClick:()=>T(!S),children:S?"Ocultar pasos":"Mostrar pasos"}),e.jsx(te,{variant:"contained",color:"primary",onClick:L,children:"Resolver"})]})]}),X(),W()]})}function di(){const[t,n]=C.useState(0),[a,r]=C.useState(3),[i,d]=C.useState(2),[p,v]=C.useState([Array(3).fill(0),Array(3).fill(0)]),[f,E]=C.useState({independientesLinealmente:!1,esBase:!1,generaEspacio:!1,mensaje:"",detalles:[],error:""}),[y,R]=C.useState(!0);C.useEffect(()=>{k()},[a,i]);const k=()=>{const x=Array(i).fill().map(()=>Array(a).fill(0));v(x),E({independientesLinealmente:!1,esBase:!1,generaEspacio:!1,mensaje:"",detalles:[],error:""})},j=(x,c)=>{n(c)},u=x=>{const c=parseInt(x.target.value);!isNaN(c)&&c>0&&c<=8&&r(c)},o=x=>{const c=parseInt(x.target.value);!isNaN(c)&&c>0&&c<=8&&d(c)},m=(x,c,l)=>{try{const b=parseFloat(l);if(isNaN(b)){if(l===""||l==="-"){const _=[...p];_[x][c]=l,v(_)}}else{const _=[...p];_[x][c]=b,v(_)}}catch(b){console.error("Error al cambiar componente de vector:",b)}},h=()=>{const x=p.map(c=>c.map(l=>typeof l=="string"?l===""||l==="-"?0:parseFloat(l):l));try{const c=Array(a).fill().map(()=>Array(i).fill(0));for(let Z=0;Z<a;Z++)for(let H=0;H<i;H++)c[Z][H]=x[H][Z];const l=S(c);console.log("Rango de la matriz:",l);const b=l===i,_=b&&i===a,B=l===a;let A="",Y=[];b?(A="Los vectores son linealmente independientes.",_?A+=" Además, forman una base para R^"+a+".":i<a?A+=" Sin embargo, no forman una base para R^"+a+" (se necesitan "+a+" vectores LI).":i>a&&(A+=" Sin embargo, hay más vectores que la dimensión del espacio, lo cual es imposible en R^"+a+".",console.warn("Posible error en cálculo de rango: más vectores LI que dimensiones"))):(A="Los vectores son linealmente dependientes.",i<=a&&(A+=" No forman una base para R^"+a+"."),B?A+=" Sin embargo, generan todo el espacio R^"+a+".":A+=" No generan todo el espacio R^"+a+"."),Y.push("Rango de la matriz: "+l),Y.push("Número de vectores: "+i),Y.push("Dimensión del espacio: "+a),E({independientesLinealmente:b,esBase:_,generaEspacio:B,mensaje:A,detalles:Y,error:""})}catch(c){console.error("Error al verificar independencia lineal:",c),E({...f,error:"Error al realizar los cálculos: "+c.message})}},S=x=>{const c=x.map(A=>[...A]),l=c.length,b=c[0].length;let _=0,B=0;for(let A=0;A<b&&B<l;A++){let Y=Math.abs(c[B][A]),Z=B;for(let U=B+1;U<l;U++){const K=Math.abs(c[U][A]);K>Y&&(Y=K,Z=U)}if(Y<1e-10)continue;Z!==B&&([c[B],c[Z]]=[c[Z],c[B]]);const H=c[B][A];for(let U=A;U<b;U++)c[B][U]/=H;for(let U=0;U<l;U++)if(U!==B){const K=c[U][A];for(let J=A;J<b;J++)c[U][J]-=K*c[B][J]}_++,B++}return _},T=()=>{const x=p.map(c=>c.map(l=>typeof l=="string"?l===""||l==="-"?0:parseFloat(l):l));try{const c=[...x];let l=[];l.push({descripcion:"Vectores iniciales",vectores:JSON.parse(JSON.stringify(c))});let b=0,_=0;for(;b<i&&_<a;){let U=Math.abs(c[b][_]),K=b;for(let Q=b+1;Q<i;Q++){const ie=Math.abs(c[Q][_]);ie>U&&(U=ie,K=Q)}if(U<1e-10){_++;continue}K!==b&&([c[b],c[K]]=[c[K],c[b]],l.push({descripcion:`Intercambio de vectores ${b+1} y ${K+1}`,vectores:JSON.parse(JSON.stringify(c))}));const J=c[b][_];for(let Q=_;Q<a;Q++)c[b][Q]/=J;l.push({descripcion:`Normalización del vector ${b+1} (dividir por ${I(J)})`,vectores:JSON.parse(JSON.stringify(c))});for(let Q=0;Q<i;Q++)if(Q!==b){const ie=c[Q][_];if(Math.abs(ie)>=1e-10){for(let ue=_;ue<a;ue++)c[Q][ue]-=ie*c[b][ue];l.push({descripcion:`Eliminación en el vector ${Q+1} usando el vector ${b+1} (factor: ${I(ie)})`,vectores:JSON.parse(JSON.stringify(c))})}}b++,_++}let B=[],A=[],Y=0;for(let U=0;U<i;U++){let K=!0;for(let J=0;J<a;J++)if(Math.abs(c[U][J])>=1e-10){K=!1;break}K||(B.push([...x[U]]),A.push(U),Y++)}let Z="",H=[];Y===0?Z="Los vectores son todos nulos o linealmente dependientes y reducen a cero. No generan ningún subespacio no trivial.":(Z=`La base del subespacio generado consta de ${Y} vector(es).`,Y===a?Z+=` Estos vectores generan todo R^${a}.`:Z+=` Estos vectores generan un subespacio de dimensión ${Y} en R^${a}.`),H.push(`Dimensión del subespacio generado: ${Y}`),H.push(`Índices de los vectores que forman la base: ${A.map(U=>U+1).join(", ")}`),E({independientesLinealmente:Y===i,esBase:Y===a,generaEspacio:Y===a,rango:Y,mensaje:Z,detalles:H,pasos:l,vectoresBase:B,indicesBase:A,error:""})}catch(c){console.error("Error al calcular la base:",c),E({...f,error:"Error al realizar los cálculos: "+c.message})}},I=x=>{const c=Number(x);return Math.abs(c)<1e-10?"0":Number.isInteger(c)?c.toString():Math.abs(c)<.001?c.toExponential(2):parseFloat(c.toFixed(3)).toString()},$=()=>e.jsx(M,{container:!0,spacing:2,children:p.map((x,c)=>e.jsx(M,{item:!0,xs:12,children:e.jsxs(ae,{elevation:1,sx:{p:2},children:[e.jsxs(s,{variant:"subtitle1",gutterBottom:!0,children:["Vector ",c+1,":"]}),e.jsx(g,{display:"flex",flexWrap:"wrap",gap:1,children:x.map((l,b)=>e.jsx(G,{label:`v${c+1}_${b+1}`,variant:"outlined",size:"small",value:l===0?"":l,onChange:_=>m(c,b,_.target.value),onBlur:_=>{_.target.value===""||_.target.value==="-"?m(c,b,0):isNaN(parseFloat(_.target.value))||m(c,b,parseFloat(_.target.value))},sx:{width:"80px"},InputProps:{inputProps:{style:{textAlign:"center"}}}},b))})]})},c))}),q=()=>f.error?e.jsx(me,{severity:"error",sx:{mt:2},children:f.error}):f.mensaje?e.jsxs(ae,{elevation:2,sx:{p:3,mt:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Resultados del análisis"}),e.jsx(me,{severity:f.independientesLinealmente?"success":"warning",sx:{mb:2},children:f.mensaje}),e.jsx(je,{sx:{my:2}}),e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Detalles:"}),e.jsx(g,{component:"ul",sx:{pl:2},children:f.detalles.map((x,c)=>e.jsx(g,{component:"li",sx:{mb:1},children:e.jsx(s,{children:x})},c))})]}):e.jsx(s,{variant:"body1",sx:{mt:2,fontStyle:"italic"},children:'Ingrese los vectores y presione "Analizar" para ver los resultados.'}),O=()=>f.error?e.jsx(me,{severity:"error",sx:{mt:2},children:f.error}):f.vectoresBase?e.jsxs(ae,{elevation:2,sx:{p:3,mt:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Base calculada"}),e.jsx(me,{severity:f.rango>0?"success":"warning",sx:{mb:2},children:f.mensaje}),f.vectoresBase.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Vectores que forman la base:"}),e.jsx(g,{sx:{mt:2},children:f.vectoresBase.map((x,c)=>e.jsxs(ae,{elevation:1,sx:{p:1,mb:1,display:"flex",alignItems:"center",backgroundColor:"rgba(0, 150, 136, 0.08)"},children:[e.jsxs(s,{sx:{mr:2,fontWeight:"bold"},children:["v",f.indicesBase[c]+1,":"]}),e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",x.map((l,b)=>e.jsxs(s,{sx:{mx:.5},children:[I(l),b<x.length-1?",":""]},b)),")"]})]},c))})]}),e.jsx(je,{sx:{my:2}}),e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Detalles:"}),e.jsx(g,{component:"ul",sx:{pl:2},children:f.detalles.map((x,c)=>e.jsx(g,{component:"li",sx:{mb:1},children:e.jsx(s,{children:x})},c))}),f.pasos&&f.pasos.length>0&&e.jsxs(g,{sx:{mt:3},children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Pasos del cálculo:"}),e.jsx(g,{sx:{maxHeight:"400px",overflowY:"auto"},children:f.pasos.map((x,c)=>e.jsxs(ae,{elevation:1,sx:{p:2,mt:2},children:[e.jsxs(s,{variant:"subtitle2",gutterBottom:!0,children:["Paso ",c+1,": ",x.descripcion]}),e.jsx(g,{children:x.vectores.map((l,b)=>{var _;return e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:1,p:1,backgroundColor:(_=f.indicesBase)!=null&&_.includes(b)?"rgba(0, 150, 136, 0.08)":"transparent",borderRadius:"4px"},children:[e.jsxs(s,{sx:{mr:2,width:"30px"},children:["v",b+1,":"]}),e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",l.map((B,A)=>e.jsxs(s,{sx:{mx:.5},children:[I(B),A<l.length-1?",":""]},A)),")"]})]},b)})})]},c))})]})]}):e.jsx(s,{variant:"body1",sx:{mt:2,fontStyle:"italic"},children:'Ingrese los vectores y presione "Calcular Base" para ver los resultados.'}),z=()=>e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Análisis de Independencia Lineal"}),e.jsx(s,{paragraph:!0,children:"Ingrese un conjunto de vectores para determinar si son linealmente independientes, si forman una base para R^n, o si generan todo el espacio."}),e.jsxs(M,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(M,{item:!0,xs:12,md:6,children:e.jsx(G,{fullWidth:!0,label:"Dimensión del espacio (n)",type:"number",InputProps:{inputProps:{min:1,max:8}},value:a,onChange:u,helperText:`Trabajando en R^${a}`})}),e.jsx(M,{item:!0,xs:12,md:6,children:e.jsx(G,{fullWidth:!0,label:"Número de vectores",type:"number",InputProps:{inputProps:{min:1,max:8}},value:i,onChange:o,helperText:`${i} vectores a analizar`})})]}),$(),e.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[e.jsx(te,{variant:"outlined",onClick:k,children:"Reiniciar"}),e.jsx(te,{variant:"contained",color:"primary",onClick:h,children:"Analizar"})]}),q()]}),P=()=>e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Cálculo de Bases"}),e.jsx(s,{paragraph:!0,children:"Ingrese un conjunto de vectores para calcular una base del subespacio que generan. Se mostrará el proceso de eliminación gaussiana para obtener la base."}),e.jsxs(M,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(M,{item:!0,xs:12,md:6,children:e.jsx(G,{fullWidth:!0,label:"Dimensión del espacio (n)",type:"number",InputProps:{inputProps:{min:1,max:8}},value:a,onChange:u,helperText:`Trabajando en R^${a}`})}),e.jsx(M,{item:!0,xs:12,md:6,children:e.jsx(G,{fullWidth:!0,label:"Número de vectores",type:"number",InputProps:{inputProps:{min:1,max:8}},value:i,onChange:o,helperText:`${i} vectores a analizar`})})]}),$(),e.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[e.jsx(te,{variant:"outlined",onClick:k,children:"Reiniciar"}),e.jsx(te,{variant:"contained",color:"primary",onClick:T,children:"Calcular Base"})]}),O()]}),D=(x,c)=>{let l=0;for(let b=0;b<x.length;b++)l+=x[b]*c[b];return l},V=x=>Math.sqrt(D(x,x)),L=(x,c)=>x.map(l=>l*c),ee=(x,c)=>{const l=[];for(let b=0;b<x.length;b++)l.push(x[b]-c[b]);return l},X=(x,c)=>{const l=D(x,c),b=D(c,c);if(Math.abs(b)<1e-10)return Array(x.length).fill(0);const _=l/b;return L(c,_)},W=()=>{const x=p.map(c=>c.map(l=>typeof l=="string"?l===""||l==="-"?0:parseFloat(l):l));try{const c=Array(a).fill().map(()=>Array(i).fill(0));for(let U=0;U<a;U++)for(let K=0;K<i;K++)c[U][K]=x[K][U];if(S(c)<i){E({...f,mensaje:"Los vectores no son linealmente independientes. El proceso de Gram-Schmidt requiere vectores LI.",error:"Los vectores deben ser linealmente independientes para aplicar Gram-Schmidt."});return}let b=[];b.push({descripcion:"Vectores de entrada",vectores:JSON.parse(JSON.stringify(x))});let _=[];for(let U=0;U<i;U++){let K=[...x[U]];for(let J=0;J<_.length;J++){const Q=X(K,_[J]);K=ee(K,Q),b.push({descripcion:`Vector ${U+1}: Restar proyección sobre vector ortogonal ${J+1}`,vector:[...K],proyeccion:[...Q],vectorOriginal:[...x[U]],vectorOrtogonal:[..._[J]]})}_.push(K),b.push({descripcion:`Vector ortogonal ${U+1} calculado`,vectoresOrtogonales:JSON.parse(JSON.stringify(_))})}let B=[],A=[];for(let U=0;U<_.length;U++){const K=V(_[U]);if(A.push(K),K<1e-10){b.push({descripcion:`Error: El vector ortogonal ${U+1} tiene norma casi cero`,vector:[..._[U]],norma:K}),E({...f,mensaje:"Error al normalizar: un vector tiene norma casi cero.",error:"Error en el proceso de Gram-Schmidt: División por cero al normalizar.",pasos:b});return}const J=L(_[U],1/K);B.push(J),b.push({descripcion:`Normalización del vector ortogonal ${U+1} (dividir por ${I(K)})`,vectorOrtogonal:[..._[U]],vectorNormalizado:[...J],norma:K})}let Y=[];for(let U=0;U<B.length;U++)for(let K=U+1;K<B.length;K++){const J=D(B[U],B[K]);Y.push({indices:[U,K],productoPunto:J,esOrtogonal:Math.abs(J)<1e-10})}let Z=`Base ortonormal de ${B.length} vectores calculada con éxito usando el proceso de Gram-Schmidt.`,H=[];H.push(`Dimensión del espacio: ${a}`),H.push(`Número de vectores en la base ortonormal: ${B.length}`),B.length<a?H.push(`Nota: Esta base ortonormal no genera todo R^${a}, solo un subespacio de dimensión ${B.length}.`):B.length===a&&H.push(`Esta base ortonormal genera todo el espacio R^${a}.`),E({independientesLinealmente:!0,esBase:B.length===a,generaEspacio:B.length===a,mensaje:Z,detalles:H,pasos:b,vectoresOrtogonales:_,baseOrtonormal:B,normas:A,verificacionOrtogonalidad:Y,error:""})}catch(c){console.error("Error al aplicar Gram-Schmidt:",c),E({...f,error:"Error en el proceso de Gram-Schmidt: "+c.message})}},N=()=>{var x,c;return f.error?e.jsx(me,{severity:"error",sx:{mt:2},children:f.error}):f.baseOrtonormal?e.jsxs(ae,{elevation:2,sx:{p:3,mt:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Base Ortonormal"}),e.jsx(me,{severity:f.baseOrtonormal.length>0?"success":"warning",sx:{mb:2},children:f.mensaje}),f.baseOrtonormal.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Vectores de la base ortonormal:"}),e.jsx(g,{sx:{mt:2},children:f.baseOrtonormal.map((l,b)=>e.jsxs(ae,{elevation:1,sx:{p:1,mb:1,display:"flex",alignItems:"center",backgroundColor:"rgba(63, 81, 181, 0.08)"},children:[e.jsxs(s,{sx:{mr:2,fontWeight:"bold"},children:["e",b+1,":"]}),e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",l.map((_,B)=>e.jsxs(s,{sx:{mx:.5},children:[I(_),B<l.length-1?",":""]},B)),")"]})]},b))}),e.jsx(s,{variant:"subtitle1",sx:{mt:3,mb:1},children:"Verificación de ortogonalidad:"}),e.jsx(M,{container:!0,spacing:2,children:(x=f.verificacionOrtogonalidad)==null?void 0:x.map((l,b)=>e.jsx(M,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(ae,{elevation:1,sx:{p:1,backgroundColor:l.esOrtogonal?"rgba(76, 175, 80, 0.08)":"rgba(244, 67, 54, 0.08)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(s,{children:["e",l.indices[0]+1," · e",l.indices[1]+1," = ",I(l.productoPunto)]}),e.jsx(s,{sx:{ml:2,fontWeight:"bold"},children:l.esOrtogonal?"✓":"✗"})]})},b))})]}),e.jsx(je,{sx:{my:2}}),e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Detalles:"}),e.jsx(g,{component:"ul",sx:{pl:2},children:(c=f.detalles)==null?void 0:c.map((l,b)=>e.jsx(g,{component:"li",sx:{mb:1},children:e.jsx(s,{children:l})},b))}),y&&f.pasos&&f.pasos.length>0&&e.jsxs(g,{sx:{mt:3},children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Pasos del proceso de Gram-Schmidt:"}),e.jsx(g,{sx:{maxHeight:"500px",overflowY:"auto"},children:f.pasos.map((l,b)=>e.jsxs(ae,{elevation:1,sx:{p:2,mt:2},children:[e.jsxs(s,{variant:"subtitle2",gutterBottom:!0,children:["Paso ",b+1,": ",l.descripcion]}),l.vectores&&e.jsx(g,{sx:{mt:1},children:l.vectores.map((_,B)=>e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:1,p:1,borderRadius:"4px"},children:[e.jsxs(s,{sx:{mr:2,width:"30px"},children:["v",B+1,":"]}),e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",_.map((A,Y)=>e.jsxs(s,{sx:{mx:.5},children:[I(A),Y<_.length-1?",":""]},Y)),")"]})]},B))}),l.vectoresOrtogonales&&e.jsx(g,{sx:{mt:1},children:l.vectoresOrtogonales.map((_,B)=>e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:1,p:1,backgroundColor:"rgba(63, 81, 181, 0.08)",borderRadius:"4px"},children:[e.jsxs(s,{sx:{mr:2,width:"30px"},children:["u",B+1,":"]}),e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",_.map((A,Y)=>e.jsxs(s,{sx:{mx:.5},children:[I(A),Y<_.length-1?",":""]},Y)),")"]})]},B))}),l.vector&&e.jsxs(g,{sx:{mt:1,p:1,backgroundColor:"rgba(63, 81, 181, 0.08)",borderRadius:"4px"},children:[e.jsx(s,{variant:"subtitle2",children:"Vector resultante:"}),e.jsx(g,{sx:{display:"flex",alignItems:"center",mt:1},children:e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",l.vector.map((_,B)=>e.jsxs(s,{sx:{mx:.5},children:[I(_),B<l.vector.length-1?",":""]},B)),")"]})})]}),l.vectorOriginal&&l.proyeccion&&e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",children:"Cálculo de proyección:"}),e.jsxs(g,{sx:{display:"flex",flexDirection:"column",mt:1,ml:2},children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(s,{sx:{width:"100px"},children:"Vector original:"}),e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",l.vectorOriginal.map((_,B)=>e.jsxs(s,{sx:{mx:.5},children:[I(_),B<l.vectorOriginal.length-1?",":""]},B)),")"]})]}),e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(s,{sx:{width:"100px"},children:"Proyección:"}),e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",l.proyeccion.map((_,B)=>e.jsxs(s,{sx:{mx:.5},children:[I(_),B<l.proyeccion.length-1?",":""]},B)),")"]})]}),e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsxs(s,{sx:{width:"100px"},children:["Vector u",l.descripcion.match(/\d+/)[0],":"]}),e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",l.vectorOrtogonal.map((_,B)=>e.jsxs(s,{sx:{mx:.5},children:[I(_),B<l.vectorOrtogonal.length-1?",":""]},B)),")"]})]})]})]}),l.vectorNormalizado&&e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",children:"Normalización:"}),e.jsxs(g,{sx:{display:"flex",flexDirection:"column",mt:1,ml:2},children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(s,{sx:{width:"100px"},children:"Vector ortogonal:"}),e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",l.vectorOrtogonal.map((_,B)=>e.jsxs(s,{sx:{mx:.5},children:[I(_),B<l.vectorOrtogonal.length-1?",":""]},B)),")"]})]}),e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(s,{sx:{width:"100px"},children:"Norma:"}),e.jsx(s,{children:I(l.norma)})]}),e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(s,{sx:{width:"100px"},children:"Vector normalizado:"}),e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap"},children:["(",l.vectorNormalizado.map((_,B)=>e.jsxs(s,{sx:{mx:.5},children:[I(_),B<l.vectorNormalizado.length-1?",":""]},B)),")"]})]})]})]})]},b))})]})]}):e.jsx(s,{variant:"body1",sx:{mt:2,fontStyle:"italic"},children:'Ingrese los vectores y presione "Aplicar Gram-Schmidt" para ver los resultados.'})},F=()=>e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Bases Ortonormales - Proceso de Gram-Schmidt"}),e.jsx(s,{paragraph:!0,children:"Ingrese un conjunto de vectores linealmente independientes para calcular una base ortonormal utilizando el proceso de Gram-Schmidt."}),e.jsxs(M,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(M,{item:!0,xs:12,md:6,children:e.jsx(G,{fullWidth:!0,label:"Dimensión del espacio (n)",type:"number",InputProps:{inputProps:{min:1,max:8}},value:a,onChange:u,helperText:`Trabajando en R^${a}`})}),e.jsx(M,{item:!0,xs:12,md:6,children:e.jsx(G,{fullWidth:!0,label:"Número de vectores",type:"number",InputProps:{inputProps:{min:1,max:8}},value:i,onChange:o,helperText:`${i} vectores a procesar (deben ser LI)`})})]}),$(),e.jsxs(g,{sx:{display:"flex",flexDirection:"row",alignItems:"center",mt:2,mb:3},children:[e.jsx(s,{sx:{mr:2},children:"Mostrar pasos del proceso:"}),e.jsx(te,{variant:y?"contained":"outlined",size:"small",onClick:()=>R(!0),sx:{mr:1},children:"Sí"}),e.jsx(te,{variant:y?"outlined":"contained",size:"small",onClick:()=>R(!1),children:"No"})]}),e.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[e.jsx(te,{variant:"outlined",onClick:k,children:"Reiniciar"}),e.jsx(te,{variant:"contained",color:"primary",onClick:W,children:"Aplicar Gram-Schmidt"})]}),N()]});return e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Espacios Vectoriales"}),e.jsx(s,{paragraph:!0,children:"Explore conceptos fundamentales de espacios vectoriales como independencia lineal, bases, dimensión, y subespacios."}),e.jsx(g,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ie,{value:t,onChange:j,"aria-label":"espacios vectoriales tabs",children:[e.jsx(re,{label:"Independencia Lineal"}),e.jsx(re,{label:"Bases"}),e.jsx(re,{label:"Bases Ortonormales"})]})}),e.jsxs(g,{sx:{p:2},children:[t===0&&z(),t===1&&P(),t===2&&F()]})]})}function ui(){const[t,n]=C.useState(0),[a,r]=C.useState(2),[i,d]=C.useState(2),[p,v]=C.useState(""),[f,E]=C.useState(Array(2).fill().map(()=>Array(2).fill(0))),[y,R]=C.useState(Array(2).fill(0)),[k,j]=C.useState(Array(2).fill(0)),[u,o]=C.useState({rango:0,dimension_nucleo:0,dimension_imagen:0,es_inyectiva:!1,es_sobreyectiva:!1,es_biyectiva:!1,nucleo_base:[],imagen_base:[],mensaje:"",error:""});C.useEffect(()=>{try{const c=Array(i).fill().map(()=>Array(a).fill(0)),l=Array(a).fill(0),b=Array(i).fill(0);E(c),R(l),j(b),o({rango:0,dimension_nucleo:0,dimension_imagen:0,es_inyectiva:!1,es_sobreyectiva:!1,es_biyectiva:!1,nucleo_base:[],imagen_base:[],mensaje:"",error:""})}catch(c){console.error("Error al reiniciar matriz:",c)}},[a,i]);const m=(c,l)=>{n(l)},h=()=>{try{const c=Array(i).fill().map(()=>Array(a).fill(0));E(c),R(Array(a).fill(0)),j(Array(i).fill(0)),o({rango:0,dimension_nucleo:0,dimension_imagen:0,es_inyectiva:!1,es_sobreyectiva:!1,es_biyectiva:!1,nucleo_base:[],imagen_base:[],mensaje:"",error:""})}catch(c){console.error("Error al resetear matriz:",c)}},S=(c,l)=>{if(l>=1&&l<=8){const b=l;b<i&&(d(b),v("La dimensión de llegada (m) se ha ajustado para que sea igual a la dimensión de partida (n)."),setTimeout(()=>v(""),5e3)),r(b)}},T=(c,l)=>{if(l>=1&&l<=8){const b=l;b>a?(v("La dimensión de llegada (m) no puede ser mayor que la dimensión de partida (n). Se ha limitado a "+a+"."),setTimeout(()=>v(""),5e3),d(a)):(d(b),v(""))}},I=c=>{const l=parseInt(c.target.value);!isNaN(l)&&l>=1&&l<=8&&(l>a?(v("La dimensión de llegada (m) no puede ser mayor que la dimensión de partida (n). Se ha limitado a "+a+"."),setTimeout(()=>v(""),5e3),d(a)):(d(l),v("")))},$=c=>{const l=parseInt(c.target.value);if(!isNaN(l)&&l>=1&&l<=8){const b=l;b<i?(r(b),setTimeout(()=>{d(b),v("La dimensión de llegada (m) se ha ajustado para que no sea mayor a la dimensión de partida (n)."),setTimeout(()=>v(""),5e3)},10)):r(b)}},q=(c,l,b)=>{try{if(c<0||c>=i||l<0||l>=a){console.error("Índices fuera de rango:",c,l);return}const _=[...f];b===""||b==="-"||b==="."||b==="-."||b==="0."||b==="-0."||!isNaN(parseFloat(b))&&!isNaN(b[b.length-1])||b.includes(".")&&!isNaN(parseFloat(b))||b.charAt(0)==="-"&&!isNaN(parseFloat(b.substring(1)))||b.charAt(b.length-1)==="."&&!isNaN(parseFloat(b.substring(0,b.length-1)))?_[c][l]=b:!isNaN(parseFloat(b))&&isFinite(b)&&(_[c][l]=parseFloat(b)),E(_)}catch(_){console.error("Error al cambiar componente de la matriz:",_)}},O=(c,l)=>{try{const b=[...y];l===""||l==="-"||l==="."||l==="-."||l==="0."||l==="-0."||!isNaN(parseFloat(l))&&!isNaN(l[l.length-1])||l.includes(".")&&!isNaN(parseFloat(l))||l.charAt(0)==="-"&&!isNaN(parseFloat(l.substring(1)))||l.charAt(l.length-1)==="."&&!isNaN(parseFloat(l.substring(0,l.length-1)))?b[c]=l:!isNaN(parseFloat(l))&&isFinite(l)&&(b[c]=parseFloat(l)),R(b)}catch(b){console.error("Error al cambiar componente del vector:",b)}},z=c=>typeof c=="string"?c:Math.abs(c)<1e-10?"0":Number.isInteger(c)?c.toString():(Math.round(c*1e4)/1e4).toString(),P=()=>{try{const c=f.map(_=>_.map(B=>typeof B=="string"?B===""||B==="-"||B==="."||B==="-."?0:parseFloat(B)||0:B)),l=y.map(_=>typeof _=="string"?_===""||_==="-"||_==="."||_==="-."?0:parseFloat(_)||0:_),b=Array(i).fill(0);for(let _=0;_<i;_++)for(let B=0;B<a;B++)b[_]+=c[_][B]*l[B];j(b)}catch(c){console.error("Error al aplicar la transformación:",c),o({...u,error:"Error al aplicar la transformación: "+c.message})}},D=()=>{try{const c=f.map(K=>K.map(J=>typeof J=="string"?J===""||J==="-"||J==="."||J==="-."?0:parseFloat(J)||0:J)),l=V(c),b=a-l,_=l,B=b===0,A=_===i,Y=B&&A,Z=L(c),H=ee(c);let U="";Y?U="La transformación es biyectiva (es inyectiva y sobreyectiva).":B?U="La transformación es inyectiva pero no sobreyectiva.":A?U="La transformación es sobreyectiva pero no inyectiva.":U="La transformación no es inyectiva ni sobreyectiva.",o({rango:l,dimension_nucleo:b,dimension_imagen:_,es_inyectiva:B,es_sobreyectiva:A,es_biyectiva:Y,nucleo_base:Z,imagen_base:H,mensaje:U,error:""})}catch(c){console.error("Error al analizar la transformación:",c),o({...u,error:"Error al analizar la transformación: "+c.message})}},V=c=>{const l=c.map(Y=>[...Y]),b=l.length,_=l[0].length;let B=0,A=0;for(let Y=0;Y<_&&A<b;Y++){let Z=Math.abs(l[A][Y]),H=A;for(let K=A+1;K<b;K++){const J=Math.abs(l[K][Y]);J>Z&&(Z=J,H=K)}if(Z<1e-10)continue;H!==A&&([l[A],l[H]]=[l[H],l[A]]);const U=l[A][Y];for(let K=Y;K<_;K++)l[A][K]/=U;for(let K=0;K<b;K++)if(K!==A){const J=l[K][Y];for(let Q=Y;Q<_;Q++)l[K][Q]-=J*l[A][Q]}B++,A++}return B},L=c=>{const l=c.length,b=c[0].length,_=X(c),B=[],A=[];let Y=0;for(let H=0;H<b&&Y<l;H++)Math.abs(_[Y][H])>1e-10?(A.push(H),Y++):B.push(H);if(B.length===0)return[];const Z=[];for(let H=0;H<B.length;H++){const U=B[H],K=Array(b).fill(0);K[U]=1;for(let J=0;J<A.length;J++){const Q=A[J];let ie=0;for(let ue=0;ue<l;ue++)if(Math.abs(_[ue][Q])>1e-10){for(let ve=0;ve<b;ve++)ve===U&&(ie+=_[ue][ve]);K[Q]=-ie;break}}Z.push(K)}return Z},ee=c=>{const l=c.length,b=c[0].length,_=X(c),B=[];let A=0;for(let Z=0;Z<b&&A<l;Z++)Math.abs(_[A][Z])>1e-10&&(B.push(Z),A++);const Y=[];for(let Z of B){const H=[];for(let U=0;U<l;U++)H.push(c[U][Z]);Y.push(H)}return Y},X=c=>{const l=c.map(A=>[...A]),b=l.length,_=l[0].length;let B=0;for(let A=0;A<_&&B<b;A++){let Y=Math.abs(l[B][A]),Z=B;for(let U=B+1;U<b;U++){const K=Math.abs(l[U][A]);K>Y&&(Y=K,Z=U)}if(Y<1e-10)continue;Z!==B&&([l[B],l[Z]]=[l[Z],l[B]]);const H=l[B][A];for(let U=A;U<_;U++)l[B][U]/=H;for(let U=0;U<b;U++)if(U!==B){const K=l[U][A];for(let J=A;J<_;J++)l[U][J]-=K*l[B][J]}B++}return l},W=()=>i<=0||a<=0?e.jsxs(me,{severity:"error",sx:{mt:2,mb:3},children:["Error: Dimensiones inválidas (n=",a,", m=",i,")"]}):!f||f.length!==i||f[0].length!==a?e.jsx(me,{severity:"warning",sx:{mt:2,mb:3},children:"Actualizando dimensiones de la matriz..."}):e.jsxs(g,{sx:{mt:2,mb:3},children:[e.jsxs(s,{variant:"subtitle1",gutterBottom:!0,children:["Matriz de la transformación T: R",a," → R",i]}),e.jsx(g,{sx:{display:"flex",flexDirection:"column",alignItems:"center",border:"1px solid #ccc",borderRadius:"4px",p:2,backgroundColor:"#282c34",maxWidth:"100%",overflowX:"auto"},children:Array(i).fill().map((c,l)=>e.jsx(g,{sx:{display:"flex",mb:l===i-1?0:1},children:Array(a).fill().map((b,_)=>{const B=f[l]&&f[l][_]!==void 0?f[l][_]:0;return e.jsx(G,{size:"small",variant:"outlined",value:B===0?"0":B,onChange:A=>q(l,_,A.target.value),sx:{m:.5,width:"60px",backgroundColor:"#4dabf5",input:{color:"#000",fontWeight:"bold",textAlign:"center"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#1976d2",borderWidth:2},"&:hover fieldset":{borderColor:"#1565c0",borderWidth:2},"&.Mui-focused fieldset":{borderColor:"#0d47a1",borderWidth:2}}}},_)})},l))})]}),N=()=>a<=0?null:!y||y.length!==a?e.jsx(me,{severity:"warning",sx:{mt:2,mb:3},children:"Actualizando dimensiones del vector..."}):e.jsxs(g,{sx:{mt:2,mb:2},children:[e.jsxs(s,{variant:"subtitle1",gutterBottom:!0,children:["Vector de prueba v ∈ R",a]}),e.jsx(g,{sx:{display:"flex",alignItems:"center",border:"1px solid #ccc",borderRadius:"4px",p:2,backgroundColor:"#282c34",maxWidth:"100%",overflowX:"auto"},children:Array(a).fill().map((c,l)=>{const b=y[l]!==void 0?y[l]:0;return e.jsx(G,{size:"small",variant:"outlined",value:b===0?"0":b,onChange:_=>O(l,_.target.value),sx:{m:.5,width:"60px",backgroundColor:"#4dabf5",input:{color:"#000",fontWeight:"bold",textAlign:"center"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#1976d2",borderWidth:2},"&:hover fieldset":{borderColor:"#1565c0",borderWidth:2},"&.Mui-focused fieldset":{borderColor:"#0d47a1",borderWidth:2}}}},l)})})]}),F=()=>i<=0?null:!k||k.length!==i?e.jsx(me,{severity:"warning",sx:{mt:2,mb:3},children:"Actualizando dimensiones del vector resultado..."}):e.jsxs(g,{sx:{mt:3,mb:3},children:[e.jsxs(s,{variant:"subtitle1",gutterBottom:!0,children:["Vector resultado T(v) ∈ R",i]}),e.jsx(g,{sx:{display:"flex",alignItems:"center",border:"1px solid #ccc",borderRadius:"4px",p:2,backgroundColor:"#282c34",maxWidth:"100%",overflowX:"auto"},children:Array(i).fill().map((c,l)=>{const b=k[l]!==void 0?k[l]:0;return e.jsx(g,{sx:{m:.5,p:1,width:"60px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid #1976d2",borderRadius:"4px",backgroundColor:"#e3f2fd",color:"#000",fontWeight:"bold"},children:e.jsx(s,{sx:{fontWeight:"bold"},children:z(b)})},l)})})]}),x=()=>e.jsxs(g,{sx:{mt:3},children:[u.error&&e.jsx(me,{severity:"error",sx:{mb:2},children:u.error}),u.mensaje&&e.jsx(me,{severity:"info",sx:{mb:2},children:u.mensaje}),e.jsxs(ae,{elevation:2,sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Propiedades de la transformación"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsxs(s,{variant:"subtitle2",children:["Rango: ",u.rango]})}),e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsxs(s,{variant:"subtitle2",children:["Dimensión del núcleo: ",u.dimension_nucleo]})}),e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsxs(s,{variant:"subtitle2",children:["Dimensión de la imagen: ",u.dimension_imagen]})}),e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsxs(s,{variant:"subtitle2",children:["Tipo: ",u.es_biyectiva?"Biyectiva":u.es_inyectiva?"Inyectiva":u.es_sobreyectiva?"Sobreyectiva":"Ni inyectiva ni sobreyectiva"]})})]}),e.jsx(je,{sx:{my:2}}),e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Base del núcleo:"}),u.nucleo_base.length===0?e.jsx(s,{sx:{ml:2,fontStyle:"italic"},children:"Solo el vector cero (núcleo trivial)"}):e.jsx(g,{sx:{ml:2},children:u.nucleo_base.map((c,l)=>e.jsxs(g,{sx:{mb:1,display:"flex",alignItems:"center"},children:[e.jsxs(s,{sx:{mr:1},children:["v",l+1," = "]}),e.jsxs(s,{children:["(",c.map((b,_)=>z(b)+(_<c.length-1?", ":"")),")"]})]},l))}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},gutterBottom:!0,children:"Base de la imagen:"}),u.imagen_base.length===0?e.jsx(s,{sx:{ml:2,fontStyle:"italic"},children:"Solo el vector cero (imagen trivial)"}):e.jsx(g,{sx:{ml:2},children:u.imagen_base.map((c,l)=>e.jsxs(g,{sx:{mb:1,display:"flex",alignItems:"center"},children:[e.jsxs(s,{sx:{mr:1},children:["w",l+1," = "]}),e.jsxs(s,{children:["(",c.map((b,_)=>z(b)+(_<c.length-1?", ":"")),")"]})]},l))})]})]});return e.jsxs(g,{sx:{width:"100%",p:2},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Transformaciones Lineales"}),e.jsx(g,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsxs(Ie,{value:t,onChange:m,"aria-label":"pestañas de transformaciones lineales",children:[e.jsx(re,{label:"Aplicar Transformación"}),e.jsx(re,{label:"Propiedades"})]})}),p&&e.jsx(me,{severity:"warning",sx:{mb:2},children:p}),e.jsxs(g,{sx:{mb:3},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Dimensión del espacio de partida (n):"}),e.jsxs(M,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(M,{item:!0,xs:8,sm:4,children:e.jsx(oe,{value:a,onChange:S,step:1,marks:!0,min:1,max:8,valueLabelDisplay:"auto"})}),e.jsx(M,{item:!0,xs:4,sm:2,children:e.jsx(G,{value:a,onChange:$,inputProps:{min:1,max:8},type:"number",size:"small"})})]}),e.jsxs(s,{variant:"subtitle2",gutterBottom:!0,sx:{mt:2},children:["Dimensión del espacio de llegada (m):",e.jsx(s,{component:"span",variant:"caption",sx:{color:"warning.main",ml:1},children:"(debe ser m ≤ n)"})]}),e.jsxs(M,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(M,{item:!0,xs:8,sm:4,children:e.jsx(oe,{value:i,onChange:T,step:1,marks:!0,min:1,max:a,valueLabelDisplay:"auto"})}),e.jsx(M,{item:!0,xs:4,sm:2,children:e.jsx(G,{value:i,onChange:I,inputProps:{min:1,max:a},type:"number",size:"small"})})]})]}),t===0&&e.jsxs("div",{children:[W(),N(),e.jsxs(g,{sx:{mt:2,mb:3},children:[e.jsx(te,{variant:"contained",color:"primary",onClick:P,sx:{mr:2},children:"Aplicar Transformación"}),e.jsx(te,{variant:"outlined",onClick:h,children:"Reiniciar"})]}),F(),e.jsxs(g,{sx:{mt:4},children:[e.jsxs(s,{variant:"body1",children:[e.jsxs("strong",{children:["Transformación lineal T: R",a," → R",i]})," definida por la matriz:"]}),e.jsx(s,{variant:"body2",sx:{mt:1,mb:2},children:"T(v) = A·v, donde A es la matriz de la transformación"})]})]}),t===1&&e.jsxs("div",{children:[W(),e.jsxs(g,{sx:{mt:2,mb:3},children:[e.jsx(te,{variant:"contained",color:"primary",onClick:D,sx:{mr:2},children:"Analizar Propiedades"}),e.jsx(te,{variant:"outlined",onClick:h,children:"Reiniciar"})]}),x(),e.jsxs(g,{sx:{mt:4},children:[e.jsx(s,{variant:"body1",gutterBottom:!0,children:e.jsx("strong",{children:"Propiedades de una transformación lineal:"})}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"Inyectiva:"})," Si dos vectores distintos se transforman en vectores distintos (Ker(T) = ",0,")"]})}),e.jsx("li",{children:e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"Sobreyectiva:"})," Si todo vector del codominio es imagen de algún vector del dominio (Im(T) = R",i,")"]})}),e.jsx("li",{children:e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"Biyectiva:"})," Si la transformación es inyectiva y sobreyectiva"]})}),e.jsx("li",{children:e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"Teorema de la dimensión:"})," dim(Ker(T)) + dim(Im(T)) = dim(dominio)"]})})]})]})]})]})}function hi(){return e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Matrices"}),e.jsx(s,{paragraph:!0,children:"En esta sección se realizarán operaciones con matrices: suma, resta, multiplicación, inversión, determinantes y más."}),e.jsx(Vn,{})]})}function mi(){return e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Vectores"}),e.jsx(s,{paragraph:!0,children:"Aquí se implementarán operaciones con vectores, producto escalar, producto vectorial, proyecciones y otros conceptos."}),e.jsx(li,{})]})}function pi(){return e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Sistemas de Ecuaciones"}),e.jsx(s,{paragraph:!0,children:"En esta sección se resolverán sistemas de ecuaciones lineales mediante diferentes métodos: eliminación gaussiana, Gauss-Jordan, etc."}),e.jsx(ci,{})]})}function xi(){return e.jsx(g,{children:e.jsx(di,{})})}function gi(){return e.jsx(g,{children:e.jsx(ui,{})})}function fi(){const t=it(),n=Be(),[a,r]=Me.useState(0),i=["/algebra-lineal/matrices","/algebra-lineal/vectores","/algebra-lineal/sistemas-ecuaciones","/algebra-lineal/espacios-vectoriales","/algebra-lineal/transformaciones-lineales"];Me.useEffect(()=>{const p=i.findIndex(v=>n.pathname.startsWith(v));p!==-1?r(p):n.pathname==="/algebra-lineal"&&t(i[0])},[n.pathname]);const d=(p,v)=>{r(v),t(i[v])};return e.jsxs(g,{sx:{width:"100%"},children:[e.jsx(s,{variant:"h4",component:"h1",gutterBottom:!0,children:"Álgebra Lineal"}),e.jsx(g,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsxs(Ie,{value:a,onChange:d,"aria-label":"temas de álgebra lineal",children:[e.jsx(re,{label:"Matrices"}),e.jsx(re,{label:"Vectores"}),e.jsx(re,{label:"Sistemas de Ecuaciones"}),e.jsx(re,{label:"Espacios Vectoriales"}),e.jsx(re,{label:"Transformaciones Lineales"})]})}),e.jsxs(st,{children:[e.jsx(pe,{path:"/matrices",element:e.jsx(hi,{})}),e.jsx(pe,{path:"/vectores",element:e.jsx(mi,{})}),e.jsx(pe,{path:"/sistemas-ecuaciones",element:e.jsx(pi,{})}),e.jsx(pe,{path:"/espacios-vectoriales",element:e.jsx(xi,{})}),e.jsx(pe,{path:"/transformaciones-lineales",element:e.jsx(gi,{})})]})]})}var w=Ia();class Ft extends Ze{constructor(n=(i,d,p)=>p.set(i,d,Math.cos(i)*Math.sin(d)),a=8,r=8){super(),this.type="ParametricGeometry",this.parameters={func:n,slices:a,stacks:r};const i=[],d=[],p=[],v=[],f=1e-5,E=new se,y=new se,R=new se,k=new se,j=new se,u=a+1;for(let o=0;o<=r;o++){const m=o/r;for(let h=0;h<=a;h++){const S=h/a;n(S,m,y),d.push(y.x,y.y,y.z),S-f>=0?(n(S-f,m,R),k.subVectors(y,R)):(n(S+f,m,R),k.subVectors(R,y)),m-f>=0?(n(S,m-f,R),j.subVectors(y,R)):(n(S,m+f,R),j.subVectors(R,y)),E.crossVectors(k,j).normalize(),p.push(E.x,E.y,E.z),v.push(S,m)}}for(let o=0;o<r;o++)for(let m=0;m<a;m++){const h=o*u+m,S=o*u+m+1,T=(o+1)*u+m+1,I=(o+1)*u+m;i.push(h,S,I),i.push(S,T,I)}this.setIndex(i),this.setAttribute("position",new Ge(d,3)),this.setAttribute("normal",new Ge(p,3)),this.setAttribute("uv",new Ge(v,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}}const ji=()=>{const[t,n]=C.useState({x:"t",y:"2*t",z:"t^2"}),[a,r]=C.useState(null),i=p=>{const{name:v,value:f}=p.target;n(E=>({...E,[v]:f}))},d=()=>{r({ecuacion:`r(t) = (${t.x})i + (${t.y})j + (${t.z})k`,puntos:[{t:0,x:0,y:0,z:0},{t:1,x:1,y:2,z:1},{t:2,x:2,y:4,z:4}]})};return e.jsxs(g,{sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Ecuaciones Paramétricas"}),e.jsx(s,{paragraph:!0,children:"Ingresa las ecuaciones paramétricas de la curva en el espacio:"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"x(t)",name:"x",value:t.x,onChange:i,margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"y(t)",name:"y",value:t.y,onChange:i,margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"z(t)",name:"z",value:t.z,onChange:i,margin:"normal",variant:"outlined"})})]}),e.jsx(te,{variant:"contained",color:"primary",onClick:d,sx:{mt:2},children:"Calcular"}),a&&e.jsxs(g,{sx:{mt:3},children:[e.jsx(s,{variant:"subtitle1",children:"Ecuación vectorial:"}),e.jsx(w.BlockMath,{math:`\\vec{r}(t) = (${t.x})\\hat{i} + (${t.y})\\hat{j} + (${t.z})\\hat{k}`}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Puntos de la curva:"}),e.jsxs(g,{component:"table",sx:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse",mt:1},children:[e.jsx(g,{component:"thead",children:e.jsxs(g,{component:"tr",children:[e.jsx(g,{component:"th",sx:{border:"1px solid #ddd",p:1},children:"t"}),e.jsx(g,{component:"th",sx:{border:"1px solid #ddd",p:1},children:"x"}),e.jsx(g,{component:"th",sx:{border:"1px solid #ddd",p:1},children:"y"}),e.jsx(g,{component:"th",sx:{border:"1px solid #ddd",p:1},children:"z"})]})}),e.jsx(g,{component:"tbody",children:a.puntos.map((p,v)=>e.jsxs(g,{component:"tr",children:[e.jsx(g,{component:"td",sx:{border:"1px solid #ddd",p:1,textAlign:"center"},children:p.t}),e.jsx(g,{component:"td",sx:{border:"1px solid #ddd",p:1,textAlign:"center"},children:p.x}),e.jsx(g,{component:"td",sx:{border:"1px solid #ddd",p:1,textAlign:"center"},children:p.y}),e.jsx(g,{component:"td",sx:{border:"1px solid #ddd",p:1,textAlign:"center"},children:p.z})]},v))})]})]})]})},bi=()=>{const[t,n]=C.useState({x:1,y:2,z:3}),[a,r]=C.useState({x:4,y:5,z:6}),[i,d]=C.useState({x:7,y:8,z:9}),[p,v]=C.useState(null),f=(y,R,k)=>{y==="A"?n(j=>({...j,[R]:parseFloat(k)||0})):y==="B"?r(j=>({...j,[R]:parseFloat(k)||0})):y==="C"&&d(j=>({...j,[R]:parseFloat(k)||0}))},E=()=>{const y=Math.sqrt(t.x**2+t.y**2+t.z**2),R=Math.sqrt(a.x**2+a.y**2+a.z**2),k=t.x*a.x+t.y*a.y+t.z*a.z,j=k/(y*R),u=Math.acos(Math.min(Math.max(j,-1),1)),o=u*(180/Math.PI),m={x:t.y*a.z-t.z*a.y,y:t.z*a.x-t.x*a.z,z:t.x*a.y-t.y*a.x},h=Math.sqrt(m.x**2+m.y**2+m.z**2),S=t.x*(a.y*i.z-a.z*i.y)-t.y*(a.x*i.z-a.z*i.x)+t.z*(a.x*i.y-a.y*i.x),T=Math.abs(S);v({magnitudA:y,magnitudB:R,productoEscalar:k,anguloRad:u,anguloDeg:o,productoVectorial:m,areaParalelogramo:h,productoMixto:S,volumenParalelepipedo:T})};return e.jsxs(g,{sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Operaciones con Vectores en 3D"}),e.jsxs(M,{container:!0,spacing:3,children:[e.jsxs(M,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"subtitle1",children:"Vector A:"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"x",value:t.x,onChange:y=>f("A","x",y.target.value),type:"number",margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"y",value:t.y,onChange:y=>f("A","y",y.target.value),type:"number",margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"z",value:t.z,onChange:y=>f("A","z",y.target.value),type:"number",margin:"normal",variant:"outlined"})})]})]}),e.jsxs(M,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"subtitle1",children:"Vector B:"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"x",value:a.x,onChange:y=>f("B","x",y.target.value),type:"number",margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"y",value:a.y,onChange:y=>f("B","y",y.target.value),type:"number",margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"z",value:a.z,onChange:y=>f("B","z",y.target.value),type:"number",margin:"normal",variant:"outlined"})})]})]}),e.jsxs(M,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"subtitle1",children:"Vector C (para paralelepípedo):"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"x",value:i.x,onChange:y=>f("C","x",y.target.value),type:"number",margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"y",value:i.y,onChange:y=>f("C","y",y.target.value),type:"number",margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"z",value:i.z,onChange:y=>f("C","z",y.target.value),type:"number",margin:"normal",variant:"outlined"})})]})]})]}),e.jsx(te,{variant:"contained",color:"primary",onClick:E,sx:{mt:2},children:"Calcular Operaciones"}),p&&e.jsx(g,{sx:{mt:3},children:e.jsxs(M,{container:!0,spacing:3,children:[e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsx(s,{variant:"subtitle1",children:"Magnitudes:"}),e.jsx(w.BlockMath,{math:`|\\vec{A}| = ${p.magnitudA.toFixed(4)}`}),e.jsx(w.BlockMath,{math:`|\\vec{B}| = ${p.magnitudB.toFixed(4)}`}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Producto Escalar:"}),e.jsx(w.BlockMath,{math:`\\vec{A} \\cdot \\vec{B} = ${p.productoEscalar}`}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Ángulo entre vectores:"}),e.jsx(w.BlockMath,{math:`\\theta = ${p.anguloDeg.toFixed(2)}^{\\circ} \\approx ${p.anguloRad.toFixed(4)} \\text{ rad}`})]}),e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsx(s,{variant:"subtitle1",children:"Producto Vectorial:"}),e.jsx(w.BlockMath,{math:`\\vec{A} \\times \\vec{B} = (${p.productoVectorial.x})\\hat{i} + (${p.productoVectorial.y})\\hat{j} + (${p.productoVectorial.z})\\hat{k}`}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Área del Paralelogramo:"}),e.jsx(w.BlockMath,{math:`\\text{Área} = |\\vec{A} \\times \\vec{B}| = ${p.areaParalelogramo.toFixed(4)}`}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Producto Mixto:"}),e.jsx(w.BlockMath,{math:`[\\vec{A}, \\vec{B}, \\vec{C}] = ${p.productoMixto.toFixed(4)}`}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Volumen del Paralelepípedo:"}),e.jsx(w.BlockMath,{math:`\\text{Volumen} = |[\\vec{A}, \\vec{B}, \\vec{C}]| = ${p.volumenParalelepipedo.toFixed(4)}`})]})]})})]})},vi=()=>{const t=C.useRef(null),[n,a]=C.useState("elipsoide"),[r,i]=C.useState({elipsoide:{a:1,b:1.5,c:2},hiperboloide:{a:1,b:1,c:1,tipo:"una hoja"},paraboloide:{a:.5,b:.5,tipo:"elíptico"}}),[d,p]=C.useState({scene:null,mesh:null}),v=y=>{a(y.target.value)},f=(y,R,k)=>{const j=parseFloat(k)||.1;i(u=>({...u,[y]:{...u[y],[R]:R==="tipo"?k:j}}))},E=(y,R)=>{switch(y){case"elipsoide":{const{a:k,b:j,c:u}=R.elipsoide,o=new gt(1,32,32);return o.scale(k,j,u),o}case"hiperboloide":{const{a:k,b:j,c:u,tipo:o}=R.hiperboloide,m=o==="una hoja",h=50;return new Ft((T,I,$)=>{T=T*Math.PI*2,I=I*4-2;let q,O,z;if(m){const P=Math.sqrt(1+I*I);q=k*P*Math.cos(T),O=j*P*Math.sin(T),z=u*I}else{const P=Math.sqrt(I*I-1);q=k*P*Math.cos(T),O=j*P*Math.sin(T),z=u*I}$.set(q,O,z)},h,h)}case"paraboloide":{const{a:k,b:j,tipo:u}=R.paraboloide,o=u==="elíptico",m=50;return new Ft((S,T,I)=>{const $=(S-.5)*4,q=(T-.5)*4;let O;o?O=$*$/(k*k)+q*q/(j*j):O=$*$/(k*k)-q*q/(j*j),I.set($,q,O)},m,m)}default:return new gt(1,32,32)}};return C.useEffect(()=>{if(!t.current)return;const y=new Bt;y.background=new zt(15790320);const R=t.current.clientWidth/t.current.clientHeight,k=new Lt(75,R,.1,1e3);k.position.z=5;const j=new Nt({antialias:!0});for(j.setSize(t.current.clientWidth,t.current.clientHeight);t.current.firstChild;)t.current.removeChild(t.current.firstChild);t.current.appendChild(j.domElement);const u=new Dt(3);y.add(u);const o=new $t(10,10);o.rotation.x=Math.PI/2,y.add(o);const m=new Ra(4210752);y.add(m);const h=new Fa(16777215,.5);h.position.set(1,1,1),y.add(h);const S=new pt({color:35071,transparent:!0,opacity:.7,wireframe:!1,side:xt}),T=E(n,r),I=new We(T,S);y.add(I),p({scene:y,mesh:I});let $=null;const q=()=>{$=requestAnimationFrame(q),y.rotation.y+=.005,j.render(y,k)};return q(),()=>{cancelAnimationFrame($),t.current&&j.domElement&&t.current.removeChild(j.domElement),j.dispose()}},[]),C.useEffect(()=>{if(d.mesh&&d.scene){d.scene.remove(d.mesh);const y=E(n,r),R=new pt({color:n==="elipsoide"?35071:n==="hiperboloide"?16729088:52360,transparent:!0,opacity:.7,wireframe:!1,side:xt}),k=new We(y,R);d.scene.add(k),p(j=>({...j,mesh:k}))}},[n,r]),e.jsxs(g,{sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Superficies en el Espacio 3D"}),e.jsx(s,{paragraph:!0,children:"Visualización interactiva de superficies cuádricas en R³:"}),e.jsxs(M,{container:!0,spacing:3,children:[e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsxs(g,{sx:{mb:4},children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Selecciona el tipo de superficie:"}),e.jsx(g,{sx:{display:"flex",mb:2},children:e.jsxs(g,{component:"select",value:n,onChange:v,sx:{width:"100%",p:1,border:"1px solid #ddd",borderRadius:1,mb:2},children:[e.jsx("option",{value:"elipsoide",children:"Elipsoide"}),e.jsx("option",{value:"hiperboloide",children:"Hiperboloide"}),e.jsx("option",{value:"paraboloide",children:"Paraboloide"})]})})]}),n==="elipsoide"&&e.jsxs(g,{sx:{mb:3},children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Elipsoide: x²/a² + y²/b² + z²/c² = 1"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"a",type:"number",value:r.elipsoide.a,onChange:y=>f("elipsoide","a",y.target.value),inputProps:{min:.1,step:.1},margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"b",type:"number",value:r.elipsoide.b,onChange:y=>f("elipsoide","b",y.target.value),inputProps:{min:.1,step:.1},margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"c",type:"number",value:r.elipsoide.c,onChange:y=>f("elipsoide","c",y.target.value),inputProps:{min:.1,step:.1},margin:"normal",variant:"outlined"})})]}),e.jsx(w.BlockMath,{math:`\\frac{x^2}{${r.elipsoide.a}^2} + \\frac{y^2}{${r.elipsoide.b}^2} + \\frac{z^2}{${r.elipsoide.c}^2} = 1`})]}),n==="hiperboloide"&&e.jsxs(g,{sx:{mb:3},children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Hiperboloide"}),e.jsx(g,{sx:{mb:2},children:e.jsxs(g,{component:"select",value:r.hiperboloide.tipo,onChange:y=>f("hiperboloide","tipo",y.target.value),sx:{width:"100%",p:1,border:"1px solid #ddd",borderRadius:1,mb:2},children:[e.jsx("option",{value:"una hoja",children:"De una hoja"}),e.jsx("option",{value:"dos hojas",children:"De dos hojas"})]})}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"a",type:"number",value:r.hiperboloide.a,onChange:y=>f("hiperboloide","a",y.target.value),inputProps:{min:.1,step:.1},margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"b",type:"number",value:r.hiperboloide.b,onChange:y=>f("hiperboloide","b",y.target.value),inputProps:{min:.1,step:.1},margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:4,children:e.jsx(G,{fullWidth:!0,label:"c",type:"number",value:r.hiperboloide.c,onChange:y=>f("hiperboloide","c",y.target.value),inputProps:{min:.1,step:.1},margin:"normal",variant:"outlined"})})]}),r.hiperboloide.tipo==="una hoja"?e.jsx(w.BlockMath,{math:`\\frac{x^2}{${r.hiperboloide.a}^2} + \\frac{y^2}{${r.hiperboloide.b}^2} - \\frac{z^2}{${r.hiperboloide.c}^2} = 1`}):e.jsx(w.BlockMath,{math:`-\\frac{x^2}{${r.hiperboloide.a}^2} - \\frac{y^2}{${r.hiperboloide.b}^2} + \\frac{z^2}{${r.hiperboloide.c}^2} = 1`})]}),n==="paraboloide"&&e.jsxs(g,{sx:{mb:3},children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Paraboloide"}),e.jsx(g,{sx:{mb:2},children:e.jsxs(g,{component:"select",value:r.paraboloide.tipo,onChange:y=>f("paraboloide","tipo",y.target.value),sx:{width:"100%",p:1,border:"1px solid #ddd",borderRadius:1,mb:2},children:[e.jsx("option",{value:"elíptico",children:"Elíptico"}),e.jsx("option",{value:"hiperbólico",children:"Hiperbólico"})]})}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:6,children:e.jsx(G,{fullWidth:!0,label:"a",type:"number",value:r.paraboloide.a,onChange:y=>f("paraboloide","a",y.target.value),inputProps:{min:.1,step:.1},margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:6,children:e.jsx(G,{fullWidth:!0,label:"b",type:"number",value:r.paraboloide.b,onChange:y=>f("paraboloide","b",y.target.value),inputProps:{min:.1,step:.1},margin:"normal",variant:"outlined"})})]}),r.paraboloide.tipo==="elíptico"?e.jsx(w.BlockMath,{math:`z = \\frac{x^2}{${r.paraboloide.a}^2} + \\frac{y^2}{${r.paraboloide.b}^2}`}):e.jsx(w.BlockMath,{math:`z = \\frac{x^2}{${r.paraboloide.a}^2} - \\frac{y^2}{${r.paraboloide.b}^2}`})]}),e.jsx(s,{variant:"subtitle2",sx:{mt:2,fontStyle:"italic"},children:"Ajusta los parámetros para modificar la forma de la superficie."})]}),e.jsx(M,{item:!0,xs:12,md:6,children:e.jsx(g,{ref:t,sx:{height:"400px",width:"100%",bgcolor:"background.paper",borderRadius:1,overflow:"hidden"}})})]})]})},yi=()=>{const[t,n]=C.useState("cartesianas-cilindricas"),[a,r]=C.useState({x:1,y:1,z:1,r:1,theta:Math.PI/4,z_cil:1,rho:1,phi:Math.PI/4,theta_esf:Math.PI/4}),[i,d]=C.useState(null),[p,v]=C.useState(""),f=j=>j*(180/Math.PI),E=j=>{n(j.target.value),d(null),v("")},y=(j,u)=>{r(o=>({...o,[j]:parseFloat(u)||0}))},R=()=>{try{switch(v(""),t){case"cartesianas-cilindricas":{const{x:j,y:u,z:o}=a,m=Math.sqrt(j*j+u*u);let h=Math.atan2(u,j);const S=f(h);d({tipo:"Cilíndricas",valores:[{nombre:"r",valor:m.toFixed(4)},{nombre:"θ (rad)",valor:h.toFixed(4)},{nombre:"θ (grados)",valor:S.toFixed(2)+"°"},{nombre:"z",valor:o.toFixed(4)}],latex:`(r, \\theta, z) = (${m.toFixed(4)}, ${h.toFixed(4)} \\text{ rad}, ${o.toFixed(4)})`});break}case"cilindricas-cartesianas":{const{r:j,theta:u,z_cil:o}=a,m=parseFloat(u),h=j*Math.cos(m),S=j*Math.sin(m);d({tipo:"Cartesianas",valores:[{nombre:"x",valor:h.toFixed(4)},{nombre:"y",valor:S.toFixed(4)},{nombre:"z",valor:o.toFixed(4)}],latex:`(x, y, z) = (${h.toFixed(4)}, ${S.toFixed(4)}, ${o.toFixed(4)})`});break}case"cartesianas-esfericas":{const{x:j,y:u,z:o}=a,m=Math.sqrt(j*j+u*u+o*o);let h=Math.atan2(u,j),S=Math.acos(o/m);const T=f(h),I=f(S);d({tipo:"Esféricas",valores:[{nombre:"ρ",valor:m.toFixed(4)},{nombre:"θ (rad)",valor:h.toFixed(4)},{nombre:"θ (grados)",valor:T.toFixed(2)+"°"},{nombre:"φ (rad)",valor:S.toFixed(4)},{nombre:"φ (grados)",valor:I.toFixed(2)+"°"}],latex:`(\\rho, \\theta, \\phi) = (${m.toFixed(4)}, ${h.toFixed(4)} \\text{ rad}, ${S.toFixed(4)} \\text{ rad})`});break}case"esfericas-cartesianas":{const{rho:j,theta_esf:u,phi:o}=a,m=j*Math.sin(o)*Math.cos(u),h=j*Math.sin(o)*Math.sin(u),S=j*Math.cos(o);d({tipo:"Cartesianas",valores:[{nombre:"x",valor:m.toFixed(4)},{nombre:"y",valor:h.toFixed(4)},{nombre:"z",valor:S.toFixed(4)}],latex:`(x, y, z) = (${m.toFixed(4)}, ${h.toFixed(4)}, ${S.toFixed(4)})`});break}case"cilindricas-esfericas":{const{r:j,theta:u,z_cil:o}=a,m=Math.sqrt(j*j+o*o),h=Math.atan2(j,o),S=f(h),T=f(u);d({tipo:"Esféricas",valores:[{nombre:"ρ",valor:m.toFixed(4)},{nombre:"θ (rad)",valor:u.toFixed(4)},{nombre:"θ (grados)",valor:T.toFixed(2)+"°"},{nombre:"φ (rad)",valor:h.toFixed(4)},{nombre:"φ (grados)",valor:S.toFixed(2)+"°"}],latex:`(\\rho, \\theta, \\phi) = (${m.toFixed(4)}, ${u.toFixed(4)} \\text{ rad}, ${h.toFixed(4)} \\text{ rad})`});break}case"esfericas-cilindricas":{const{rho:j,theta_esf:u,phi:o}=a,m=j*Math.sin(o),h=j*Math.cos(o),S=f(u);d({tipo:"Cilíndricas",valores:[{nombre:"r",valor:m.toFixed(4)},{nombre:"θ (rad)",valor:u.toFixed(4)},{nombre:"θ (grados)",valor:S.toFixed(2)+"°"},{nombre:"z",valor:h.toFixed(4)}],latex:`(r, \\theta, z) = (${m.toFixed(4)}, ${u.toFixed(4)} \\text{ rad}, ${h.toFixed(4)})`});break}default:break}}catch(j){v("Error en el cálculo: "+j.message)}},k=()=>{switch(t){case"cartesianas-cilindricas":case"cartesianas-esfericas":return e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"x",value:a.x,onChange:j=>y("x",j.target.value),type:"number",margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"y",value:a.y,onChange:j=>y("y",j.target.value),type:"number",margin:"normal",variant:"outlined"})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"z",value:a.z,onChange:j=>y("z",j.target.value),type:"number",margin:"normal",variant:"outlined"})})]});case"cilindricas-cartesianas":case"cilindricas-esfericas":return e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"r",value:a.r,onChange:j=>y("r",j.target.value),type:"number",inputProps:{min:0},margin:"normal",variant:"outlined",helperText:"Radio en el plano xy (≥ 0)"})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"θ (radianes)",value:a.theta,onChange:j=>y("theta",j.target.value),type:"number",margin:"normal",variant:"outlined",helperText:"Ángulo en el plano xy (radianes)"})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"z",value:a.z_cil,onChange:j=>y("z_cil",j.target.value),type:"number",margin:"normal",variant:"outlined",helperText:"Altura en el eje z"})})]});case"esfericas-cartesianas":case"esfericas-cilindricas":return e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"ρ (rho)",value:a.rho,onChange:j=>y("rho",j.target.value),type:"number",inputProps:{min:0},margin:"normal",variant:"outlined",helperText:"Distancia al origen (≥ 0)"})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"θ (theta, radianes)",value:a.theta_esf,onChange:j=>y("theta_esf",j.target.value),type:"number",margin:"normal",variant:"outlined",helperText:"Ángulo en el plano xy (radianes)"})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"φ (phi, radianes)",value:a.phi,onChange:j=>y("phi",j.target.value),type:"number",margin:"normal",variant:"outlined",helperText:"Ángulo desde el eje z (radianes)"})})]});default:return null}};return e.jsxs(g,{sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Transformación de Coordenadas"}),e.jsx(s,{paragraph:!0,children:"Convierte entre diferentes sistemas de coordenadas: cartesianas, cilíndricas y esféricas."}),e.jsxs(_e,{fullWidth:!0,margin:"normal",children:[e.jsx(Fe,{id:"tipo-transformacion-label",children:"Tipo de Transformación"}),e.jsxs(Ae,{labelId:"tipo-transformacion-label",value:t,label:"Tipo de Transformación",onChange:E,children:[e.jsx(ce,{value:"cartesianas-cilindricas",children:"Cartesianas a Cilíndricas"}),e.jsx(ce,{value:"cilindricas-cartesianas",children:"Cilíndricas a Cartesianas"}),e.jsx(ce,{value:"cartesianas-esfericas",children:"Cartesianas a Esféricas"}),e.jsx(ce,{value:"esfericas-cartesianas",children:"Esféricas a Cartesianas"}),e.jsx(ce,{value:"cilindricas-esfericas",children:"Cilíndricas a Esféricas"}),e.jsx(ce,{value:"esfericas-cilindricas",children:"Esféricas a Cilíndricas"})]})]}),k(),e.jsx(te,{variant:"contained",color:"primary",onClick:R,sx:{mt:2},children:"Calcular"}),p&&e.jsx(s,{color:"error",sx:{mt:2},children:p}),i&&e.jsxs(g,{sx:{mt:3},children:[e.jsxs(s,{variant:"subtitle1",children:["Resultado en coordenadas ",i.tipo,":"]}),e.jsxs(g,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,mt:1},children:[e.jsx(w.BlockMath,{math:i.latex}),e.jsx(M,{container:!0,spacing:2,sx:{mt:2},children:i.valores.map((j,u)=>e.jsxs(M,{item:!0,xs:6,sm:3,children:[e.jsxs(s,{variant:"subtitle2",children:[j.nombre,":"]}),e.jsx(s,{children:j.valor})]},u))})]}),t==="cartesianas-cilindricas"&&e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",children:"Fórmulas utilizadas:"}),e.jsx(w.BlockMath,{math:"r = \\sqrt{x^2 + y^2}"}),e.jsx(w.BlockMath,{math:"\\theta = \\arctan(\\frac{y}{x})"}),e.jsx(w.BlockMath,{math:"z = z"})]}),t==="cilindricas-cartesianas"&&e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",children:"Fórmulas utilizadas:"}),e.jsx(w.BlockMath,{math:"x = r\\cos(\\theta)"}),e.jsx(w.BlockMath,{math:"y = r\\sin(\\theta)"}),e.jsx(w.BlockMath,{math:"z = z"})]}),t==="cartesianas-esfericas"&&e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",children:"Fórmulas utilizadas:"}),e.jsx(w.BlockMath,{math:"\\rho = \\sqrt{x^2 + y^2 + z^2}"}),e.jsx(w.BlockMath,{math:"\\theta = \\arctan(\\frac{y}{x})"}),e.jsx(w.BlockMath,{math:"\\phi = \\arccos(\\frac{z}{\\rho})"})]}),t==="esfericas-cartesianas"&&e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",children:"Fórmulas utilizadas:"}),e.jsx(w.BlockMath,{math:"x = \\rho \\sin(\\phi)\\cos(\\theta)"}),e.jsx(w.BlockMath,{math:"y = \\rho \\sin(\\phi)\\sin(\\theta)"}),e.jsx(w.BlockMath,{math:"z = \\rho \\cos(\\phi)"})]}),t==="cilindricas-esfericas"&&e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",children:"Fórmulas utilizadas:"}),e.jsx(w.BlockMath,{math:"\\rho = \\sqrt{r^2 + z^2}"}),e.jsx(w.BlockMath,{math:"\\theta = \\theta"}),e.jsx(w.BlockMath,{math:"\\phi = \\arctan(\\frac{r}{z})"})]}),t==="esfericas-cilindricas"&&e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",children:"Fórmulas utilizadas:"}),e.jsx(w.BlockMath,{math:"r = \\rho \\sin(\\phi)"}),e.jsx(w.BlockMath,{math:"\\theta = \\theta"}),e.jsx(w.BlockMath,{math:"z = \\rho \\cos(\\phi)"})]})]}),e.jsxs(g,{sx:{mt:4},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Notas sobre los sistemas de coordenadas:"}),e.jsxs(M,{container:!0,spacing:3,children:[e.jsxs(M,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Coordenadas Cartesianas (x, y, z)"}),e.jsx(s,{variant:"body2",children:"Sistema de coordenadas rectangular donde cada punto en el espacio se identifica por tres números: sus proyecciones sobre los ejes x, y, z."})]}),e.jsxs(M,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Coordenadas Cilíndricas (r, θ, z)"}),e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"r"}),": distancia desde el origen al punto proyectado en el plano xy",e.jsx("br",{}),e.jsx("strong",{children:"θ"}),": ángulo en el plano xy (medido desde el eje x positivo)",e.jsx("br",{}),e.jsx("strong",{children:"z"}),": altura (igual que en coordenadas cartesianas)"]})]}),e.jsxs(M,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Coordenadas Esféricas (ρ, θ, φ)"}),e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"ρ"}),": distancia desde el origen al punto",e.jsx("br",{}),e.jsx("strong",{children:"θ"}),": ángulo en el plano xy (igual que en cilíndricas)",e.jsx("br",{}),e.jsx("strong",{children:"φ"}),": ángulo desde el eje z positivo"]})]})]})]})]})};function Mi(){const[t,n]=C.useState(0),a=(r,i)=>{n(i)};return e.jsxs(g,{sx:{p:3},children:[e.jsx(s,{variant:"h5",component:"h2",gutterBottom:!0,children:"Espacio Tridimensional"}),e.jsxs(ae,{elevation:3,sx:{p:2},children:[e.jsx(s,{paragraph:!0,children:"En esta sección puedes explorar conceptos del espacio tridimensional, como sistemas de coordenadas, vectores en R³, y superficies."}),e.jsx(g,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Ie,{value:t,onChange:a,variant:"scrollable",scrollButtons:"auto",children:[e.jsx(re,{label:"Ecuaciones Paramétricas"}),e.jsx(re,{label:"Vectores en 3D"}),e.jsx(re,{label:"Superficies"}),e.jsx(re,{label:"Transformación de Coordenadas"})]})}),e.jsxs(g,{sx:{p:1,minHeight:"400px"},children:[t===0&&e.jsx(ji,{}),t===1&&e.jsx(bi,{}),t===2&&e.jsx(vi,{}),t===3&&e.jsx(yi,{})]})]})]})}const Ci=()=>{const[t,n]=C.useState("velocidad"),[a,r]=C.useState({posicion:"x(t) = 2*t^2 - 3*t + 5",tiempo:2,radio:5,angulo:"\\theta(t) = t^2",constanteResorte:2,masa:1,amplitud:3,desplazamiento:"x(t) = 3*\\cos(2*t)"}),[i,d]=C.useState(null),p=k=>{n(k.target.value),d(null)},v=k=>{const{name:j,value:u}=k.target;r(o=>({...o,[j]:u}))},f=()=>{let k={};switch(t){case"velocidad":k=E(a.posicion,a.tiempo);break;case"circular":k=y(a.radio,a.angulo,a.tiempo);break;case"resorte":k=R(a.desplazamiento,a.constanteResorte,a.masa,a.tiempo);break}d(k)},E=(k,j)=>{const u=parseFloat(j),o=2*u*u-3*u+5,m=4*u-3,h=4;return{funcionPosicion:"x(t) = 2t^2 - 3t + 5",funcionVelocidad:"v(t) = \\frac{dx}{dt} = 4t - 3",funcionAceleracion:"a(t) = \\frac{d^2x}{dt^2} = 4",tiempoEvaluado:u,posicionEvaluada:o,velocidadEvaluada:m,aceleracionEvaluada:h,explicacion:`La posición del objeto está dada por la función x(t) = 2t^2 - 3t + 5.

Para encontrar la velocidad, calculamos la primera derivada: v(t) = \\frac{dx}{dt} = 4t - 3.

Para encontrar la aceleración, calculamos la segunda derivada: a(t) = \\frac{d^2x}{dt^2} = 4.

En t = `+u+", tenemos que la posición es x = "+o.toFixed(2)+", la velocidad es v = "+m.toFixed(2)+" y la aceleración es a = "+h.toFixed(2)+"."}},y=(k,j,u)=>{const o=parseFloat(k),m=parseFloat(u),h=m*m,S=2*m,T=2,I=o*S,$=o*S*S,q=o*T;return{funcionAngulo:"\\theta(t) = t^2",funcionVelocidadAngular:"\\omega(t) = \\frac{d\\theta}{dt} = 2t",funcionAceleracionAngular:"\\alpha(t) = \\frac{d^2\\theta}{dt^2} = 2",tiempoEvaluado:m,radioCirculo:o,anguloEvaluado:h,velocidadAngularEvaluada:S,aceleracionAngularEvaluada:T,velocidadLinealEvaluada:I,aceleracionCentripetaEvaluada:$,aceleracionTangencialEvaluada:q,explicacion:"En movimiento circular con radio r = "+o+` y posición angular \\theta(t) = t^2:

La velocidad angular es \\omega(t) = \\frac{d\\theta}{dt} = 2t.

La aceleración angular es \\alpha(t) = \\frac{d^2\\theta}{dt^2} = 2.

En t = `+m+`:
- Ángulo: \\theta = `+h.toFixed(2)+` rad
- Velocidad angular: \\omega = `+S.toFixed(2)+` rad/s
- Velocidad lineal: v = r\\omega = `+I.toFixed(2)+` m/s
- Aceleración centrípeta: a_c = r\\omega^2 = `+$.toFixed(2)+` m/s²
- Aceleración tangencial: a_t = r\\alpha = `+q.toFixed(2)+" m/s²"}},R=(k,j,u,o)=>{const m=parseFloat(o),h=parseFloat(j),S=parseFloat(u),T=Math.sqrt(h/S),I=3*Math.cos(2*m),$=-6*Math.sin(2*m),q=-12*Math.cos(2*m),O=.5*h*I*I;return{funcionDesplazamiento:"x(t) = 3\\cos(2t)",funcionVelocidad:"v(t) = \\frac{dx}{dt} = -6\\sin(2t)",funcionAceleracion:"a(t) = \\frac{d^2x}{dt^2} = -12\\cos(2t)",tiempoEvaluado:m,constResorte:h,masaObjeto:S,frecuenciaNaturalSistema:T,desplazamientoEvaluado:I,velocidadEvaluada:$,aceleracionEvaluada:q,energiaPotencial:O,explicacion:"En un movimiento armónico simple con desplazamiento x(t) = 3\\cos(2t), constante del resorte k = "+h+" N/m y masa m = "+S+` kg:

La velocidad se obtiene con la primera derivada: v(t) = \\frac{dx}{dt} = -6\\sin(2t).

La aceleración se obtiene con la segunda derivada: a(t) = \\frac{d^2x}{dt^2} = -12\\cos(2t).

La frecuencia natural del sistema es \\omega_n = \\sqrt{\\frac{k}{m}} = `+T.toFixed(2)+` rad/s.

En t = `+m+` s:
- Desplazamiento: x = `+I.toFixed(2)+` m
- Velocidad: v = `+$.toFixed(2)+` m/s
- Aceleración: a = `+q.toFixed(2)+` m/s²
- Energía potencial: E_p = \\frac{1}{2}kx^2 = `+O.toFixed(2)+" J"}};return e.jsxs(g,{sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Aplicaciones de Razones de Cambio en Física"}),e.jsxs(ae,{elevation:3,sx:{p:2,mb:3},children:[e.jsxs(_e,{fullWidth:!0,sx:{mb:2},children:[e.jsx(Fe,{id:"problema-select-label",children:"Tipo de Problema"}),e.jsxs(Ae,{labelId:"problema-select-label",id:"problema-select",value:t,label:"Tipo de Problema",onChange:p,children:[e.jsx(ce,{value:"velocidad",children:"Velocidad y Aceleración (Movimiento Rectilíneo)"}),e.jsx(ce,{value:"circular",children:"Movimiento Circular"}),e.jsx(ce,{value:"resorte",children:"Movimiento Armónico Simple (Resorte)"})]})]}),t==="velocidad"&&e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:8,children:e.jsx(G,{fullWidth:!0,label:"Función de Posición",name:"posicion",value:a.posicion,onChange:v,margin:"normal",variant:"outlined",helperText:"Ejemplo: x(t) = 2*t^2 - 3*t + 5"})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"Tiempo (t)",name:"tiempo",value:a.tiempo,onChange:v,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.1}})})]}),t==="circular"&&e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"Radio del círculo",name:"radio",value:a.radio,onChange:v,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.1}})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"Función del ángulo",name:"angulo",value:a.angulo,onChange:v,margin:"normal",variant:"outlined",helperText:"Ejemplo: θ(t) = t^2"})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"Tiempo (t)",name:"tiempo",value:a.tiempo,onChange:v,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.1}})})]}),t==="resorte"&&e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsx(G,{fullWidth:!0,label:"Desplazamiento",name:"desplazamiento",value:a.desplazamiento,onChange:v,margin:"normal",variant:"outlined",helperText:"Ejemplo: x(t) = 3*cos(2*t)"})}),e.jsx(M,{item:!0,xs:12,sm:2,children:e.jsx(G,{fullWidth:!0,label:"Constante del resorte (k)",name:"constanteResorte",value:a.constanteResorte,onChange:v,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.1}})}),e.jsx(M,{item:!0,xs:12,sm:2,children:e.jsx(G,{fullWidth:!0,label:"Masa (kg)",name:"masa",value:a.masa,onChange:v,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.1}})}),e.jsx(M,{item:!0,xs:12,sm:2,children:e.jsx(G,{fullWidth:!0,label:"Tiempo (t)",name:"tiempo",value:a.tiempo,onChange:v,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.1}})})]}),e.jsx(te,{variant:"contained",color:"primary",onClick:f,sx:{mt:2},children:"Calcular"})]}),i&&e.jsxs(ae,{elevation:3,sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Resultados"}),t==="velocidad"&&e.jsxs(g,{children:[e.jsx(s,{variant:"subtitle1",children:"Función de posición:"}),e.jsx(w.BlockMath,{math:i.funcionPosicion}),e.jsx(s,{variant:"subtitle1",children:"Función de velocidad:"}),e.jsx(w.BlockMath,{math:i.funcionVelocidad}),e.jsx(s,{variant:"subtitle1",children:"Función de aceleración:"}),e.jsx(w.BlockMath,{math:i.funcionAceleracion}),e.jsx(je,{sx:{my:2}}),e.jsxs(s,{variant:"subtitle1",children:["Evaluación en t = ",i.tiempoEvaluado,":"]}),e.jsxs(s,{children:["Posición: ",e.jsx(w.InlineMath,{math:`x = ${i.posicionEvaluada.toFixed(2)}`})," unidades"]}),e.jsxs(s,{children:["Velocidad: ",e.jsx(w.InlineMath,{math:`v = ${i.velocidadEvaluada.toFixed(2)}`})," unidades/s"]}),e.jsxs(s,{children:["Aceleración: ",e.jsx(w.InlineMath,{math:`a = ${i.aceleracionEvaluada.toFixed(2)}`})," unidades/s²"]}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Explicación:"}),e.jsxs(s,{paragraph:!0,children:["La posición del objeto está dada por la función ",e.jsx(w.InlineMath,{math:"x(t) = 2t^2 - 3t + 5"}),"."]}),e.jsxs(s,{paragraph:!0,children:["Para encontrar la velocidad, calculamos la primera derivada: ",e.jsx(w.InlineMath,{math:"v(t) = \\frac{dx}{dt} = 4t - 3"}),"."]}),e.jsxs(s,{paragraph:!0,children:["Para encontrar la aceleración, calculamos la segunda derivada: ",e.jsx(w.InlineMath,{math:"a(t) = \\frac{d^2x}{dt^2} = 4"}),"."]}),e.jsxs(s,{paragraph:!0,children:["En ",e.jsx(w.InlineMath,{math:`t = ${i.tiempoEvaluado}`}),", tenemos que la posición es ",e.jsx(w.InlineMath,{math:`x = ${i.posicionEvaluada.toFixed(2)}`}),", la velocidad es ",e.jsx(w.InlineMath,{math:`v = ${i.velocidadEvaluada.toFixed(2)}`})," y la aceleración es ",e.jsx(w.InlineMath,{math:`a = ${i.aceleracionEvaluada.toFixed(2)}`}),"."]})]}),t==="circular"&&e.jsxs(g,{children:[e.jsx(s,{variant:"subtitle1",children:"Función de ángulo:"}),e.jsx(w.BlockMath,{math:i.funcionAngulo}),e.jsx(s,{variant:"subtitle1",children:"Función de velocidad angular:"}),e.jsx(w.BlockMath,{math:i.funcionVelocidadAngular}),e.jsx(s,{variant:"subtitle1",children:"Función de aceleración angular:"}),e.jsx(w.BlockMath,{math:i.funcionAceleracionAngular}),e.jsx(je,{sx:{my:2}}),e.jsxs(s,{variant:"subtitle1",children:["Evaluación en t = ",i.tiempoEvaluado," con radio r = ",i.radioCirculo,":"]}),e.jsxs(s,{children:["Ángulo: ",e.jsx(w.InlineMath,{math:`\\theta = ${i.anguloEvaluado.toFixed(2)}`})," rad"]}),e.jsxs(s,{children:["Velocidad angular: ",e.jsx(w.InlineMath,{math:`\\omega = ${i.velocidadAngularEvaluada.toFixed(2)}`})," rad/s"]}),e.jsxs(s,{children:["Aceleración angular: ",e.jsx(w.InlineMath,{math:`\\alpha = ${i.aceleracionAngularEvaluada.toFixed(2)}`})," rad/s²"]}),e.jsxs(s,{children:["Velocidad lineal: ",e.jsx(w.InlineMath,{math:`v = ${i.velocidadLinealEvaluada.toFixed(2)}`})," m/s"]}),e.jsxs(s,{children:["Aceleración centrípeta: ",e.jsx(w.InlineMath,{math:`a_c = ${i.aceleracionCentripetaEvaluada.toFixed(2)}`})," m/s²"]}),e.jsxs(s,{children:["Aceleración tangencial: ",e.jsx(w.InlineMath,{math:`a_t = ${i.aceleracionTangencialEvaluada.toFixed(2)}`})," m/s²"]}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Explicación:"}),e.jsxs(s,{paragraph:!0,children:["En movimiento circular con radio ",e.jsx(w.InlineMath,{math:`r = ${i.radioCirculo}`})," y posición angular ",e.jsx(w.InlineMath,{math:"\\theta(t) = t^2"}),":"]}),e.jsxs(s,{paragraph:!0,children:["La velocidad angular es ",e.jsx(w.InlineMath,{math:"\\omega(t) = \\frac{d\\theta}{dt} = 2t"}),"."]}),e.jsxs(s,{paragraph:!0,children:["La aceleración angular es ",e.jsx(w.InlineMath,{math:"\\alpha(t) = \\frac{d^2\\theta}{dt^2} = 2"}),"."]}),e.jsxs(s,{paragraph:!0,children:["En ",e.jsx(w.InlineMath,{math:`t = ${i.tiempoEvaluado}`}),":"]}),e.jsx(s,{component:"div",sx:{pl:2},children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Ángulo: ",e.jsx(w.InlineMath,{math:`\\theta = ${i.anguloEvaluado.toFixed(2)}`})," rad"]}),e.jsxs("li",{children:["Velocidad angular: ",e.jsx(w.InlineMath,{math:`\\omega = ${i.velocidadAngularEvaluada.toFixed(2)}`})," rad/s"]}),e.jsxs("li",{children:["Velocidad lineal: ",e.jsx(w.InlineMath,{math:`v = r\\omega = ${i.velocidadLinealEvaluada.toFixed(2)}`})," m/s"]}),e.jsxs("li",{children:["Aceleración centrípeta: ",e.jsx(w.InlineMath,{math:`a_c = r\\omega^2 = ${i.aceleracionCentripetaEvaluada.toFixed(2)}`})," m/s²"]}),e.jsxs("li",{children:["Aceleración tangencial: ",e.jsx(w.InlineMath,{math:`a_t = r\\alpha = ${i.aceleracionTangencialEvaluada.toFixed(2)}`})," m/s²"]})]})})]}),t==="resorte"&&e.jsxs(g,{children:[e.jsx(s,{variant:"subtitle1",children:"Función de desplazamiento:"}),e.jsx(w.BlockMath,{math:i.funcionDesplazamiento}),e.jsx(s,{variant:"subtitle1",children:"Función de velocidad:"}),e.jsx(w.BlockMath,{math:i.funcionVelocidad}),e.jsx(s,{variant:"subtitle1",children:"Función de aceleración:"}),e.jsx(w.BlockMath,{math:i.funcionAceleracion}),e.jsx(je,{sx:{my:2}}),e.jsx(s,{variant:"subtitle1",children:"Parámetros del sistema:"}),e.jsxs(s,{children:["Constante del resorte: ",e.jsx(w.InlineMath,{math:`k = ${i.constResorte}`})," N/m"]}),e.jsxs(s,{children:["Masa: ",e.jsx(w.InlineMath,{math:`m = ${i.masaObjeto}`})," kg"]}),e.jsxs(s,{children:["Frecuencia natural: ",e.jsx(w.InlineMath,{math:`\\omega_n = ${i.frecuenciaNaturalSistema.toFixed(2)}`})," rad/s"]}),e.jsxs(s,{variant:"subtitle1",sx:{mt:2},children:["Evaluación en t = ",i.tiempoEvaluado,":"]}),e.jsxs(s,{children:["Desplazamiento: ",e.jsx(w.InlineMath,{math:`x = ${i.desplazamientoEvaluado.toFixed(2)}`})," m"]}),e.jsxs(s,{children:["Velocidad: ",e.jsx(w.InlineMath,{math:`v = ${i.velocidadEvaluada.toFixed(2)}`})," m/s"]}),e.jsxs(s,{children:["Aceleración: ",e.jsx(w.InlineMath,{math:`a = ${i.aceleracionEvaluada.toFixed(2)}`})," m/s²"]}),e.jsxs(s,{children:["Energía potencial: ",e.jsx(w.InlineMath,{math:`E_p = ${i.energiaPotencial.toFixed(2)}`})," J"]}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Explicación:"}),e.jsxs(s,{paragraph:!0,children:["En un movimiento armónico simple con desplazamiento ",e.jsx(w.InlineMath,{math:"x(t) = 3\\cos(2t)"}),", constante del resorte ",e.jsx(w.InlineMath,{math:`k = ${i.constResorte}`})," N/m y masa ",e.jsx(w.InlineMath,{math:`m = ${i.masaObjeto}`})," kg:"]}),e.jsxs(s,{paragraph:!0,children:["La velocidad se obtiene con la primera derivada: ",e.jsx(w.InlineMath,{math:"v(t) = \\frac{dx}{dt} = -6\\sin(2t)"}),"."]}),e.jsxs(s,{paragraph:!0,children:["La aceleración se obtiene con la segunda derivada: ",e.jsx(w.InlineMath,{math:"a(t) = \\frac{d^2x}{dt^2} = -12\\cos(2t)"}),"."]}),e.jsxs(s,{paragraph:!0,children:["La frecuencia natural del sistema es ",e.jsx(w.InlineMath,{math:`\\omega_n = \\sqrt{\\frac{k}{m}} = ${i.frecuenciaNaturalSistema.toFixed(2)}`})," rad/s."]}),e.jsxs(s,{paragraph:!0,children:["En ",e.jsx(w.InlineMath,{math:`t = ${i.tiempoEvaluado}`})," s:"]}),e.jsx(s,{component:"div",sx:{pl:2},children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Desplazamiento: ",e.jsx(w.InlineMath,{math:`x = ${i.desplazamientoEvaluado.toFixed(2)}`})," m"]}),e.jsxs("li",{children:["Velocidad: ",e.jsx(w.InlineMath,{math:`v = ${i.velocidadEvaluada.toFixed(2)}`})," m/s"]}),e.jsxs("li",{children:["Aceleración: ",e.jsx(w.InlineMath,{math:`a = ${i.aceleracionEvaluada.toFixed(2)}`})," m/s²"]}),e.jsxs("li",{children:["Energía potencial: ",e.jsx(w.InlineMath,{math:`E_p = \\frac{1}{2}kx^2 = ${i.energiaPotencial.toFixed(2)}`})," J"]})]})})]})]})]})},Pi=()=>{const[t,n]=C.useState("equilibrio"),[a,r]=C.useState({funcion:"f(x) = x^3 - 6*x^2 + 9*x + 1",funcionEnergia:"U(x) = 0.5*k*x^2 - m*g*x",constanteResorte:2,masa:1,gravedad:9.8,velocidadInicial:20,angulo:45,altura:0}),[i,d]=C.useState(null),p=C.useRef(null),v=C.useRef(null),f=m=>{n(m.target.value),d(null)},E=m=>{const{name:h,value:S}=m.target;r(T=>({...T,[h]:S}))},y=()=>{let m={};switch(t){case"equilibrio":m=R(a.funcion);break;case"energia":m=k(a.funcionEnergia,a.constanteResorte,a.masa,a.gravedad);break;case"proyectil":m=j(a.velocidadInicial,a.angulo,a.altura);break}d(m)},R=m=>{const h=[],S=[];for(let T=0;T<=4;T+=.1)h.push(T),S.push(Math.pow(T,3)-6*Math.pow(T,2)+9*T+1);return{funcion:"f(x) = x^3 - 6x^2 + 9x + 1",derivada:"f'(x) = 3x^2 - 12x + 9",puntosEquilibrio:[{x:1,y:5,tipo:"mínimo local"},{x:3,y:1,tipo:"máximo local"}],puntosX:h,puntosY:S,explicacion:`Para encontrar los puntos de equilibrio en un sistema físico, buscamos los valores donde la derivada de la función se anula (es igual a cero).

En este caso, para la función f(x) = x^3 - 6x^2 + 9x + 1, la derivada es f'(x) = 3x^2 - 12x + 9.

Igualando a cero: 3x^2 - 12x + 9 = 0

Resolviendo esta ecuación cuadrática, obtenemos x = 1 y x = 3.

El punto (1, 5) es un mínimo local, donde el sistema está en equilibrio estable.
El punto (3, 1) es un máximo local, donde el sistema está en equilibrio inestable.`}},k=(m,h,S,T)=>{const I=parseFloat(h),$=parseFloat(S),q=parseFloat(T),O=$*q/I,z=.5*I*Math.pow(O,2)-$*q*O,P=[],D=[];for(let V=0;V<=O*2;V+=O/10)P.push(V),D.push(.5*I*Math.pow(V,2)-$*q*V);return{funcion:"U(x) = 0.5kx^2 - mgx",derivada:"F(x) = -dU/dx = -kx + mg",constantes:{k:I,m:$,g:q},posicionEquilibrio:O,energiaEquilibrio:z,puntosX:P,puntosY:D,explicacion:`En un sistema físico como un resorte vertical con una masa, la energía potencial es U(x) = 0.5kx^2 - mgx, donde k es la constante del resorte, m es la masa, g es la aceleración de la gravedad, y x es el desplazamiento.

La fuerza en cualquier punto es F(x) = -dU/dx = -kx + mg.

En equilibrio, la fuerza es cero: -kx + mg = 0

Despejando, obtenemos la posición de equilibrio: x = mg/k = `+O.toFixed(3)+` m

En este punto, la energía potencial es mínima con un valor de `+z.toFixed(3)+" J."}},j=(m,h,S)=>{const T=parseFloat(m),I=parseFloat(h)*Math.PI/180,$=parseFloat(S),q=9.8,O=T*T*Math.sin(2*I)/q,z=2*T*Math.sin(I)/q,P=$+T*T*Math.pow(Math.sin(I),2)/(2*q),D=45,V=D*Math.PI/180,L=T*T*Math.sin(2*V)/q;return{parametros:{v0:T,angulo:parseFloat(h),h0:$},alcance:O,tiempoVuelo:z,alturaMaxima:P,anguloOptimo:D,alcanceMaximo:L,explicacion:"Para un proyectil lanzado con velocidad inicial v₀ = "+T+" m/s a un ángulo θ = "+h+"° desde una altura h₀ = "+$+` m:

El alcance horizontal es R = `+O.toFixed(2)+` m

El tiempo de vuelo es t = `+z.toFixed(2)+` s

La altura máxima alcanzada es h_max = `+P.toFixed(2)+` m

Para maximizar el alcance desde el suelo (h₀ = 0), el ángulo óptimo es 45°, lo que daría un alcance máximo de `+L.toFixed(2)+` m.

La trayectoria del proyectil es parabólica, descrita por las ecuaciones:

x(t) = v₀·cos(θ)·t
y(t) = h₀ + v₀·sin(θ)·t - 0.5·g·t²`}},u=()=>{const m=p.current;if(!m)return;const h=m.getContext("2d"),S=m.width,T=m.height;h.clearRect(0,0,S,T),h.beginPath(),h.moveTo(0,T-50),h.lineTo(S,T-50),h.strokeStyle="#009900",h.lineWidth=2,h.stroke();const I=T-50-a.altura*5;h.beginPath(),h.arc(50,I,5,0,2*Math.PI),h.fillStyle="red",h.fill();const $=a.angulo*Math.PI/180,q=30,O=50+q*Math.cos($),z=I-q*Math.sin($);h.beginPath(),h.moveTo(50,I),h.lineTo(O,z),h.strokeStyle="blue",h.lineWidth=2,h.stroke(),h.beginPath(),h.moveTo(O,z),h.lineTo(O-10*Math.cos($-Math.PI/6),z+10*Math.sin($-Math.PI/6)),h.lineTo(O-10*Math.cos($+Math.PI/6),z+10*Math.sin($+Math.PI/6)),h.closePath(),h.fillStyle="blue",h.fill(),h.fillStyle="black",h.font="12px Arial",h.fillText(`v₀ = ${a.velocidadInicial} m/s`,10,20),h.fillText(`θ = ${a.angulo}°`,10,40),h.fillText(`h₀ = ${a.altura} m`,10,60)},o=()=>{v.current&&cancelAnimationFrame(v.current);const m=p.current;if(!m||!i)return;const h=m.getContext("2d"),S=m.width,T=m.height,I=i.parametros.v0,$=i.parametros.angulo*Math.PI/180,q=i.parametros.h0,O=9.8,z=(S-100)/i.alcance,P=(T-100)/Math.max(i.alturaMaxima,q+5),D=50,V=T-50-q*P;let L=0;const ee=.05,X=i.tiempoVuelo*1.2,W=[],N=()=>{h.clearRect(0,0,S,T),h.beginPath(),h.moveTo(0,T-50),h.lineTo(S,T-50),h.strokeStyle="#009900",h.lineWidth=2,h.stroke();const F=D+I*Math.cos($)*L*z,x=V-(q+I*Math.sin($)*L-.5*O*L*L)*P;W.push({x:F,y:x}),h.beginPath(),h.moveTo(W[0].x,W[0].y);for(let c=1;c<W.length;c++)h.lineTo(W[c].x,W[c].y);h.strokeStyle="rgba(200, 0, 0, 0.5)",h.lineWidth=1.5,h.stroke(),h.beginPath(),h.arc(F,x,8,0,2*Math.PI),h.fillStyle="red",h.fill(),h.strokeStyle="black",h.lineWidth=1,h.stroke(),h.fillStyle="black",h.font="12px Arial",h.fillText(`Tiempo: ${L.toFixed(2)} s`,10,20),h.fillText(`Posición X: ${(I*Math.cos($)*L).toFixed(2)} m`,10,40),h.fillText(`Posición Y: ${(q+I*Math.sin($)*L-.5*O*L*L).toFixed(2)} m`,10,60),L+=ee,L<=X&&x<=T-50?v.current=requestAnimationFrame(N):(h.font="14px Arial",h.fillStyle="blue",h.fillText(`Alcance: ${i.alcance.toFixed(2)} m`,S-200,30),h.fillText(`Altura máxima: ${i.alturaMaxima.toFixed(2)} m`,S-200,50),h.fillText(`Tiempo de vuelo: ${i.tiempoVuelo.toFixed(2)} s`,S-200,70))};N()};return C.useEffect(()=>{t==="proyectil"&&u()},[t,a]),e.jsxs(g,{sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Optimización aplicada a la Física"}),e.jsxs(ae,{elevation:3,sx:{p:2,mb:3},children:[e.jsxs(_e,{fullWidth:!0,sx:{mb:2},children:[e.jsx(Fe,{id:"tipo-problema-label",children:"Tipo de Problema"}),e.jsxs(Ae,{labelId:"tipo-problema-label",id:"tipo-problema",value:t,label:"Tipo de Problema",onChange:f,children:[e.jsx(ce,{value:"equilibrio",children:"Puntos de Equilibrio"}),e.jsx(ce,{value:"energia",children:"Energía Potencial Mínima"}),e.jsx(ce,{value:"proyectil",children:"Movimiento de Proyectiles"})]})]}),t==="equilibrio"&&e.jsx(M,{container:!0,spacing:2,children:e.jsx(M,{item:!0,xs:12,children:e.jsx(G,{fullWidth:!0,label:"Función a optimizar",name:"funcion",value:a.funcion,onChange:E,margin:"normal",variant:"outlined",helperText:"Ejemplo: f(x) = x^3 - 6*x^2 + 9*x + 1"})})}),t==="energia"&&e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsx(G,{fullWidth:!0,label:"Función de Energía Potencial",name:"funcionEnergia",value:a.funcionEnergia,onChange:E,margin:"normal",variant:"outlined",helperText:"Ejemplo: U(x) = 0.5*k*x^2 - m*g*x"})}),e.jsx(M,{item:!0,xs:12,sm:2,children:e.jsx(G,{fullWidth:!0,label:"Constante del resorte (k)",name:"constanteResorte",value:a.constanteResorte,onChange:E,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.1}})}),e.jsx(M,{item:!0,xs:12,sm:2,children:e.jsx(G,{fullWidth:!0,label:"Masa (kg)",name:"masa",value:a.masa,onChange:E,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.1}})}),e.jsx(M,{item:!0,xs:12,sm:2,children:e.jsx(G,{fullWidth:!0,label:"Gravedad (m/s²)",name:"gravedad",value:a.gravedad,onChange:E,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.1}})})]}),t==="proyectil"&&e.jsxs(M,{container:!0,spacing:2,children:[e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsx(g,{sx:{height:400,width:"100%",position:"relative"},children:e.jsx("canvas",{ref:p,width:500,height:400,style:{border:"1px solid #ddd"}})}),i&&e.jsxs(g,{sx:{display:"flex",justifyContent:"center",mt:2},children:[e.jsx(te,{variant:"contained",color:"primary",onClick:o,sx:{mr:2},children:"Animar Trayectoria"}),e.jsx(te,{variant:"outlined",color:"error",onClick:()=>{v.current&&(cancelAnimationFrame(v.current),v.current=null),u()},children:"Detener"})]})]}),e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"Velocidad inicial (m/s)",name:"velocidadInicial",value:a.velocidadInicial,onChange:E,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.5}})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"Ángulo (grados)",name:"angulo",value:a.angulo,onChange:E,margin:"normal",variant:"outlined",type:"number",inputProps:{step:1,min:0,max:90}})}),e.jsx(M,{item:!0,xs:12,sm:4,children:e.jsx(G,{fullWidth:!0,label:"Altura inicial (m)",name:"altura",value:a.altura,onChange:E,margin:"normal",variant:"outlined",type:"number",inputProps:{step:.1}})})]}),e.jsxs(g,{sx:{mt:2},children:[e.jsx(s,{variant:"subtitle1",children:"Conceptos teóricos:"}),e.jsx(s,{variant:"body2",paragraph:!0,children:"El movimiento de un proyectil está determinado por las ecuaciones:"}),e.jsx(w.BlockMath,{math:"x(t) = x_0 + v_0 \\cos(\\theta) \\cdot t"}),e.jsx(w.BlockMath,{math:"y(t) = y_0 + v_0 \\sin(\\theta) \\cdot t - \\frac{1}{2}gt^2"}),e.jsx(s,{variant:"body2",paragraph:!0,children:"Donde:"}),e.jsx(s,{component:"div",sx:{pl:2},children:e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"v_0"}),": velocidad inicial"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"\\theta"}),": ángulo de lanzamiento"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"g"}),": aceleración de la gravedad (9.8 m/s²)"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"x_0, y_0"}),": posición inicial"]})]})})]}),e.jsx(te,{variant:"contained",color:"primary",onClick:y,sx:{mt:2},children:"Calcular"})]})]}),t!=="proyectil"&&e.jsx(te,{variant:"contained",color:"primary",onClick:y,sx:{mt:2},children:"Calcular"})]}),i&&t!=="proyectil"&&e.jsxs(ae,{elevation:3,sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Resultados"}),t==="equilibrio"&&e.jsxs(g,{children:[e.jsx(s,{variant:"subtitle1",children:"Función:"}),e.jsx(w.BlockMath,{math:i.funcion}),e.jsx(s,{variant:"subtitle1",children:"Derivada:"}),e.jsx(w.BlockMath,{math:i.derivada}),e.jsx(je,{sx:{my:2}}),e.jsx(s,{variant:"subtitle1",children:"Puntos de equilibrio:"}),i.puntosEquilibrio.map((m,h)=>e.jsxs(s,{children:["Punto ",e.jsx(w.InlineMath,{math:`(${m.x}, ${m.y})`}),": ",m.tipo]},h)),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Explicación:"}),e.jsx(s,{children:i.explicacion.split(`

`).map((m,h)=>e.jsxs(Me.Fragment,{children:[m,e.jsx("br",{}),e.jsx("br",{})]},h))})]}),t==="energia"&&e.jsxs(g,{children:[e.jsx(s,{variant:"subtitle1",children:"Función de Energía Potencial:"}),e.jsx(w.BlockMath,{math:i.funcion}),e.jsx(s,{variant:"subtitle1",children:"Fuerza (derivada negativa de la energía):"}),e.jsx(w.BlockMath,{math:i.derivada}),e.jsx(je,{sx:{my:2}}),e.jsx(s,{variant:"subtitle1",children:"Parámetros del sistema:"}),e.jsxs(s,{children:["Constante del resorte: ",e.jsx(w.InlineMath,{math:`k = ${i.constantes.k}`})," N/m"]}),e.jsxs(s,{children:["Masa: ",e.jsx(w.InlineMath,{math:`m = ${i.constantes.m}`})," kg"]}),e.jsxs(s,{children:["Gravedad: ",e.jsx(w.InlineMath,{math:`g = ${i.constantes.g}`})," m/s²"]}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Posición de equilibrio:"}),e.jsxs(s,{children:[e.jsx(w.InlineMath,{math:`x_{eq} = ${i.posicionEquilibrio.toFixed(3)}`})," m"]}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Energía potencial en el equilibrio:"}),e.jsxs(s,{children:[e.jsx(w.InlineMath,{math:`U_{min} = ${i.energiaEquilibrio.toFixed(3)}`})," J"]}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Explicación:"}),e.jsx(s,{children:i.explicacion.split(`

`).map((m,h)=>e.jsxs(Me.Fragment,{children:[m,e.jsx("br",{}),e.jsx("br",{})]},h))})]})]}),i&&t==="proyectil"&&e.jsxs(ae,{elevation:3,sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Resultados del Movimiento Proyectil"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsxs(M,{item:!0,xs:12,md:5,children:[e.jsx(s,{variant:"subtitle1",children:"Parámetros iniciales:"}),e.jsxs(s,{children:["Velocidad inicial: ",e.jsx(w.InlineMath,{math:`v_0 = ${i.parametros.v0}`})," m/s"]}),e.jsxs(s,{children:["Ángulo de lanzamiento: ",e.jsx(w.InlineMath,{math:`\\theta = ${i.parametros.angulo}`}),"°"]}),e.jsxs(s,{children:["Altura inicial: ",e.jsx(w.InlineMath,{math:`h_0 = ${i.parametros.h0}`})," m"]}),e.jsx(je,{sx:{my:2}}),e.jsx(s,{variant:"subtitle1",children:"Resultados del lanzamiento:"}),e.jsxs(s,{children:["Alcance horizontal: ",e.jsx(w.InlineMath,{math:`R = ${i.alcance.toFixed(2)}`})," m"]}),e.jsxs(s,{children:["Tiempo de vuelo: ",e.jsx(w.InlineMath,{math:`t = ${i.tiempoVuelo.toFixed(2)}`})," s"]}),e.jsxs(s,{children:["Altura máxima: ",e.jsx(w.InlineMath,{math:`h_{max} = ${i.alturaMaxima.toFixed(2)}`})," m"]}),e.jsx(s,{variant:"subtitle1",sx:{mt:2},children:"Optimización:"}),e.jsxs(s,{children:["Ángulo óptimo para maximizar alcance: ",e.jsx(w.InlineMath,{math:`\\theta_{opt} = ${i.anguloOptimo}`}),"°"]}),e.jsxs(s,{children:["Alcance máximo posible: ",e.jsx(w.InlineMath,{math:`R_{max} = ${i.alcanceMaximo.toFixed(2)}`})," m"]})]}),e.jsxs(M,{item:!0,xs:12,md:7,children:[e.jsx(s,{variant:"subtitle1",children:"Explicación:"}),e.jsx(s,{children:i.explicacion.split(`

`).map((m,h)=>e.jsxs(Me.Fragment,{children:[m,e.jsx("br",{}),e.jsx("br",{})]},h))})]})]})]})]})},_i=()=>{const[t,n]=C.useState("simple"),[a,r]=C.useState({longitud:1,gravedad:9.8,masa:1,anguloInicial:30,velocidadAngularInicial:0,amortiguamiento:.1,longitud1:1,longitud2:1,masa1:1,masa2:1,angulo1Inicial:30,angulo2Inicial:0,velocidadAngular1Inicial:0,velocidadAngular2Inicial:0}),i=C.useRef(null),d=C.useRef(null),p=C.useRef(null),v=C.useRef(null),f=u=>{n(u.target.value)},E=u=>(o,m)=>{r(h=>({...h,[u]:m}))},y=()=>{const u=i.current;if(!u)return;const o=u.getContext("2d"),m=u.width,h=u.height,S=m/2,T=h/4,I=a.anguloInicial*Math.PI/180,$=a.longitud*100,q=S+$*Math.sin(I),O=T+$*Math.cos(I);o.clearRect(0,0,m,h),o.beginPath(),o.arc(S,T,5,0,2*Math.PI),o.fillStyle="black",o.fill(),o.beginPath(),o.moveTo(S,T),o.lineTo(q,O),o.strokeStyle="black",o.lineWidth=2,o.stroke(),o.beginPath();const z=15*Math.sqrt(a.masa);o.arc(q,O,z,0,2*Math.PI),o.fillStyle="red",o.fill(),o.strokeStyle="black",o.lineWidth=1,o.stroke()},R=()=>{d.current&&cancelAnimationFrame(d.current);const u=i.current;if(!u)return;const o=u.getContext("2d"),m=u.width,h=u.height,S=m/2,T=h/4,I=a.longitud,$=a.gravedad,q=a.masa,O=a.amortiguamiento;let z=a.anguloInicial*Math.PI/180,P=a.velocidadAngularInicial,D=0;const V=.016,L=()=>{const ee=-($/I)*Math.sin(z)-O/q*P;P+=ee*V,z+=P*V,o.clearRect(0,0,m,h),o.fillStyle="black",o.font="14px Arial",o.fillText("Ecuación del péndulo simple: d²θ/dt² + (b/m)·dθ/dt + (g/L)·sin(θ) = 0",10,20);const X=S+I*100*Math.sin(z),W=T+I*100*Math.cos(z);o.beginPath(),o.arc(S,T,5,0,2*Math.PI),o.fillStyle="black",o.fill(),o.beginPath(),o.moveTo(S,T),o.lineTo(X,W),o.strokeStyle="black",o.lineWidth=2,o.stroke(),o.beginPath();const N=15*Math.sqrt(q);o.arc(X,W,N,0,2*Math.PI),o.fillStyle="red",o.fill(),o.strokeStyle="black",o.lineWidth=1,o.stroke(),o.fillStyle="black",o.fillText(`Ángulo: ${(z*180/Math.PI).toFixed(1)}°`,10,40),o.fillText(`Velocidad angular: ${P.toFixed(2)} rad/s`,10,60),o.fillText(`Tiempo: ${D.toFixed(1)}s`,10,80),D+=V,d.current=requestAnimationFrame(L)};L()},k=()=>{const u=p.current;if(!u)return;const o=u.getContext("2d"),m=u.width,h=u.height,S=m/2,T=h/4,I=a.angulo1Inicial*Math.PI/180,$=a.angulo2Inicial*Math.PI/180,q=a.longitud1*80,O=a.longitud2*80,z=S+q*Math.sin(I),P=T+q*Math.cos(I),D=z+O*Math.sin($),V=P+O*Math.cos($);o.clearRect(0,0,m,h),o.beginPath(),o.arc(S,T,5,0,2*Math.PI),o.fillStyle="black",o.fill(),o.beginPath(),o.moveTo(S,T),o.lineTo(z,P),o.strokeStyle="black",o.lineWidth=2,o.stroke(),o.beginPath();const L=15*Math.sqrt(a.masa1);o.arc(z,P,L,0,2*Math.PI),o.fillStyle="blue",o.fill(),o.strokeStyle="black",o.lineWidth=1,o.stroke(),o.beginPath(),o.moveTo(z,P),o.lineTo(D,V),o.strokeStyle="black",o.lineWidth=2,o.stroke(),o.beginPath();const ee=15*Math.sqrt(a.masa2);o.arc(D,V,ee,0,2*Math.PI),o.fillStyle="red",o.fill(),o.strokeStyle="black",o.lineWidth=1,o.stroke()},j=()=>{v.current&&cancelAnimationFrame(v.current);const u=p.current;if(!u)return;const o=u.getContext("2d"),m=u.width,h=u.height,S=m/2,T=h/4,I=a.longitud1,$=a.longitud2,q=a.masa1,O=a.masa2,z=a.gravedad;let P=a.angulo1Inicial*Math.PI/180,D=a.angulo2Inicial*Math.PI/180,V=a.velocidadAngular1Inicial,L=a.velocidadAngular2Inicial,ee=0;const X=.016,W=[],N=()=>{const F=D-P,x=(z*(Math.sin(D)*Math.cos(F)-Math.sin(P))/I-(O*$*L*L*Math.sin(F)+O*z*Math.sin(D)*Math.cos(F))/(q+O)/I+O*I*V*V*Math.sin(F)*Math.cos(F)/(q+O)/I)/(1-O*Math.cos(F)*Math.cos(F)/(q+O)),c=(-I*V*V*Math.sin(F)-z*Math.sin(D)+z*Math.sin(P)*Math.cos(F))/$+Math.cos(F)*x/($/I);V+=x*X,L+=c*X,P+=V*X,D+=L*X,o.clearRect(0,0,m,h);const l=S+I*80*Math.sin(P),b=T+I*80*Math.cos(P),_=l+$*80*Math.sin(D),B=b+$*80*Math.cos(D);if(W.push({x:_,y:B}),W.length>100&&W.shift(),o.fillStyle="black",o.font="14px Arial",o.fillText("Ecuaciones del péndulo doble (Lagrangiano):",10,20),W.length>1){o.beginPath(),o.moveTo(W[0].x,W[0].y);for(let Z=1;Z<W.length;Z++)o.lineTo(W[Z].x,W[Z].y);o.strokeStyle="rgba(200, 0, 0, 0.5)",o.lineWidth=1,o.stroke()}o.beginPath(),o.arc(S,T,5,0,2*Math.PI),o.fillStyle="black",o.fill(),o.beginPath(),o.moveTo(S,T),o.lineTo(l,b),o.strokeStyle="black",o.lineWidth=2,o.stroke(),o.beginPath();const A=15*Math.sqrt(q);o.arc(l,b,A,0,2*Math.PI),o.fillStyle="blue",o.fill(),o.strokeStyle="black",o.lineWidth=1,o.stroke(),o.beginPath(),o.moveTo(l,b),o.lineTo(_,B),o.strokeStyle="black",o.lineWidth=2,o.stroke(),o.beginPath();const Y=15*Math.sqrt(O);o.arc(_,B,Y,0,2*Math.PI),o.fillStyle="red",o.fill(),o.strokeStyle="black",o.lineWidth=1,o.stroke(),o.fillStyle="black",o.fillText(`Ángulo 1: ${(P*180/Math.PI).toFixed(1)}°`,10,40),o.fillText(`Ángulo 2: ${(D*180/Math.PI).toFixed(1)}°`,10,60),o.fillText(`Tiempo: ${ee.toFixed(1)}s`,10,80),ee+=X,v.current=requestAnimationFrame(N)};N()};return C.useEffect(()=>(t==="simple"?y():k(),()=>{d.current&&cancelAnimationFrame(d.current),v.current&&cancelAnimationFrame(v.current)}),[t,a]),e.jsxs(g,{sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"El Péndulo: Simulación y Ecuaciones"}),e.jsxs(ae,{elevation:3,sx:{p:2,mb:3},children:[e.jsxs(_e,{fullWidth:!0,sx:{mb:2},children:[e.jsx(Fe,{id:"tipo-pendulo-label",children:"Tipo de Péndulo"}),e.jsxs(Ae,{labelId:"tipo-pendulo-label",id:"tipo-pendulo",value:t,label:"Tipo de Péndulo",onChange:f,children:[e.jsx(ce,{value:"simple",children:"Péndulo Simple"}),e.jsx(ce,{value:"doble",children:"Péndulo Doble"})]})]}),t==="simple"&&e.jsxs(M,{container:!0,spacing:2,children:[e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsx(g,{sx:{height:400,width:"100%",position:"relative"},children:e.jsx("canvas",{ref:i,width:500,height:400,style:{border:"1px solid #ddd"}})}),e.jsxs(g,{sx:{display:"flex",justifyContent:"center",mt:2},children:[e.jsx(te,{variant:"contained",color:"primary",onClick:R,sx:{mr:2},children:"Animar"}),e.jsx(te,{variant:"outlined",color:"error",onClick:()=>{d.current&&(cancelAnimationFrame(d.current),d.current=null),y()},children:"Detener"})]})]}),e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsx(s,{variant:"subtitle1",children:"Parámetros del Péndulo Simple:"}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Longitud (m): ",a.longitud]}),e.jsx(oe,{value:a.longitud,onChange:E("longitud"),min:.1,max:3,step:.1,valueLabelDisplay:"auto"})]}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Masa (kg): ",a.masa]}),e.jsx(oe,{value:a.masa,onChange:E("masa"),min:.1,max:5,step:.1,valueLabelDisplay:"auto"})]}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Ángulo inicial (grados): ",a.anguloInicial]}),e.jsx(oe,{value:a.anguloInicial,onChange:E("anguloInicial"),min:-90,max:90,step:1,valueLabelDisplay:"auto"})]}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Amortiguamiento: ",a.amortiguamiento]}),e.jsx(oe,{value:a.amortiguamiento,onChange:E("amortiguamiento"),min:0,max:1,step:.01,valueLabelDisplay:"auto"})]}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Gravedad (m/s²): ",a.gravedad]}),e.jsx(oe,{value:a.gravedad,onChange:E("gravedad"),min:1,max:20,step:.1,valueLabelDisplay:"auto"})]}),e.jsx(s,{variant:"subtitle1",sx:{mt:3},children:"Ecuación del Péndulo Simple:"}),e.jsx(w.BlockMath,{math:"\\frac{d^2\\theta}{dt^2} + \\frac{g}{L}\\sin(\\theta) = 0"}),e.jsxs(s,{variant:"body2",children:["Donde:",e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"\\theta"}),": ángulo del péndulo"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"b"}),": coeficiente de amortiguamiento"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"m"}),": masa"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"g"}),": aceleración de la gravedad"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"L"}),": longitud"]})]})]})]})]}),t==="doble"&&e.jsxs(M,{container:!0,spacing:2,children:[e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsx(g,{sx:{height:400,width:"100%",position:"relative"},children:e.jsx("canvas",{ref:p,width:500,height:400,style:{border:"1px solid #ddd"}})}),e.jsxs(g,{sx:{display:"flex",justifyContent:"center",mt:2},children:[e.jsx(te,{variant:"contained",color:"primary",onClick:j,sx:{mr:2},children:"Animar"}),e.jsx(te,{variant:"outlined",color:"error",onClick:()=>{v.current&&(cancelAnimationFrame(v.current),v.current=null),k()},children:"Detener"})]})]}),e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsx(s,{variant:"subtitle1",children:"Parámetros del Péndulo Doble:"}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Longitud 1 (m): ",a.longitud1]}),e.jsx(oe,{value:a.longitud1,onChange:E("longitud1"),min:.1,max:3,step:.1,valueLabelDisplay:"auto"})]})}),e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Longitud 2 (m): ",a.longitud2]}),e.jsx(oe,{value:a.longitud2,onChange:E("longitud2"),min:.1,max:3,step:.1,valueLabelDisplay:"auto"})]})}),e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Masa 1 (kg): ",a.masa1]}),e.jsx(oe,{value:a.masa1,onChange:E("masa1"),min:.1,max:5,step:.1,valueLabelDisplay:"auto"})]})}),e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Masa 2 (kg): ",a.masa2]}),e.jsx(oe,{value:a.masa2,onChange:E("masa2"),min:.1,max:5,step:.1,valueLabelDisplay:"auto"})]})}),e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Ángulo 1 inicial (°): ",a.angulo1Inicial]}),e.jsx(oe,{value:a.angulo1Inicial,onChange:E("angulo1Inicial"),min:-90,max:90,step:1,valueLabelDisplay:"auto"})]})}),e.jsx(M,{item:!0,xs:12,sm:6,children:e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Ángulo 2 inicial (°): ",a.angulo2Inicial]}),e.jsx(oe,{value:a.angulo2Inicial,onChange:E("angulo2Inicial"),min:-90,max:90,step:1,valueLabelDisplay:"auto"})]})})]}),e.jsx(s,{variant:"subtitle1",sx:{mt:3},children:"Ecuaciones del Péndulo Doble:"}),e.jsx(s,{variant:"body2",children:"Las ecuaciones del péndulo doble son un sistema de ecuaciones diferenciales no lineales acopladas derivadas del Lagrangiano del sistema:"}),e.jsx(w.BlockMath,{math:"\\frac{d^2\\theta_1}{dt^2} = f_1(\\theta_1, \\theta_2, \\omega_1, \\omega_2)"}),e.jsx(w.BlockMath,{math:"\\frac{d^2\\theta_2}{dt^2} = f_2(\\theta_1, \\theta_2, \\omega_1, \\omega_2)"}),e.jsx(s,{variant:"body2",sx:{mt:2},children:"Este sistema es famoso por exhibir comportamiento caótico, lo que significa que pequeñas diferencias en las condiciones iniciales pueden llevar a evoluciones temporales completamente diferentes. Por esta razón, el péndulo doble es un ejemplo clásico de sistema caótico en mecánica clásica."})]})]})]}),e.jsxs(ae,{elevation:3,sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Conceptos Teóricos"}),e.jsx(s,{variant:"subtitle1",children:"Péndulo Simple:"}),e.jsx(s,{paragraph:!0,children:"Un péndulo simple consiste en una masa puntual suspendida de un hilo inextensible y sin masa. La ecuación que describe su movimiento es:"}),e.jsx(w.BlockMath,{math:"\\frac{d^2\\theta}{dt^2} + \\frac{g}{L}\\sin(\\theta) = 0"}),e.jsxs(s,{paragraph:!0,children:["Para ángulos pequeños, podemos aproximar ",e.jsx(w.InlineMath,{math:"\\sin(\\theta) \\approx \\theta"}),", lo que lleva a la ecuación del oscilador armónico:"]}),e.jsx(w.BlockMath,{math:"\\frac{d^2\\theta}{dt^2} + \\frac{g}{L}\\theta = 0"}),e.jsx(s,{paragraph:!0,children:"La solución a esta ecuación es un movimiento armónico simple con período:"}),e.jsx(w.BlockMath,{math:"T = 2\\pi\\sqrt{\\frac{L}{g}}"}),e.jsx(je,{sx:{my:2}}),e.jsx(s,{variant:"subtitle1",children:"Péndulo Doble:"}),e.jsx(s,{paragraph:!0,children:"Un péndulo doble consiste en dos péndulos simples conectados en serie. Su comportamiento es notablemente más complejo que el del péndulo simple, exhibiendo dinámicas caóticas para ciertos valores de energía y condiciones iniciales."}),e.jsx(s,{paragraph:!0,children:"Las ecuaciones de movimiento para el péndulo doble se derivan del Lagrangiano del sistema, que tiene en cuenta la energía cinética y potencial de ambas masas. Estas ecuaciones son:"}),e.jsx(w.BlockMath,{math:"(m_1 + m_2)L_1\\frac{d^2\\theta_1}{dt^2} + m_2L_2\\frac{d^2\\theta_2}{dt^2}\\cos(\\theta_1 - \\theta_2) + m_2L_2\\left(\\frac{d\\theta_2}{dt}\\right)^2\\sin(\\theta_1 - \\theta_2) + (m_1 + m_2)g\\sin\\theta_1 = 0"}),e.jsx(w.BlockMath,{math:"m_2L_2\\frac{d^2\\theta_2}{dt^2} + m_2L_1\\frac{d^2\\theta_1}{dt^2}\\cos(\\theta_1 - \\theta_2) - m_2L_1\\left(\\frac{d\\theta_1}{dt}\\right)^2\\sin(\\theta_1 - \\theta_2) + m_2g\\sin\\theta_2 = 0"}),e.jsx(s,{paragraph:!0,children:"Estas ecuaciones son no lineales y acopladas, lo que hace que su solución analítica sea imposible en el caso general. Por ello, se resuelven numéricamente como se muestra en la simulación."})]})]})},Ei=()=>{const[t,n]=C.useState({masaObjeto:1,constanteResorte:10,amortiguamiento:.1,amplitudInicial:3,velocidadInicial:0,posicionEquilibrio:200,mostrarGraficas:!0}),a=C.useRef(null),r=C.useRef(null),i=C.useRef(null),d=C.useRef({tiempo:0,posiciones:[],velocidades:[],aceleraciones:[],tiempos:[],enMovimiento:!1}),p=k=>(j,u)=>{n(o=>({...o,[k]:u}))},v=()=>{const k=a.current;if(!k)return;const j=k.getContext("2d"),u=k.width,o=k.height;j.clearRect(0,0,u,o);const m=t.posicionEquilibrio;t.amplitudInicial,j.beginPath(),j.moveTo(0,o/2),j.lineTo(u,o/2),j.strokeStyle="#000000",j.lineWidth=1,j.stroke();for(let S=0;S<=u;S+=50)j.beginPath(),j.moveTo(S,o/2-5),j.lineTo(S,o/2+5),j.stroke(),j.fillStyle="#000000",j.font="12px Arial",j.fillText(`${(S-m)/50}`,S,o/2+20);j.fillStyle="#000000",j.font="16px Arial",j.fillText("0",m,o/2+25),j.beginPath(),j.arc(m,o/2,3,0,2*Math.PI),j.fill();const h=50;j.fillStyle="#555555",j.fillRect(h,o/2-40,20,80),f(j,h+20,o/2,m-30,o/2,15),j.beginPath(),j.rect(m-30,o/2-25,30,50),j.fillStyle="#2196F3",j.fill(),j.strokeStyle="#000000",j.lineWidth=2,j.stroke(),j.fillStyle="#000000",j.font="18px Arial",j.fillText("m",m-20,o/2-30),j.fillStyle="#000000",j.font="14px Arial",j.fillText("resorte no extendido",70,o/2-50),j.fillText(`k = ${t.constanteResorte} N/m, m = ${t.masaObjeto} kg`,20,30)},f=(k,j,u,o,m,h)=>{const S=o-j,T=m-u,I=Math.sqrt(S*S+T*T);k.beginPath(),k.moveTo(j,u);const $=h,q=I/$,O=15;let z=j;k.moveTo(z,u);const P=q*.1;k.lineTo(z+P,u),z+=P;for(let D=0;D<$;D++)k.bezierCurveTo(z+q*.2,u-O,z+q*.3,u-O,z+q*.5,u),k.bezierCurveTo(z+q*.7,u+O,z+q*.8,u+O,z+q,u),z+=q;k.lineTo(o,m),k.strokeStyle="#FF5722",k.lineWidth=2,k.stroke()},E=()=>{i.current&&cancelAnimationFrame(i.current),d.current={tiempo:0,posiciones:[],velocidades:[],aceleraciones:[],tiempos:[],enMovimiento:!0};const k=t.amplitudInicial,j=t.velocidadInicial,u=t.constanteResorte,o=t.masaObjeto,m=t.amortiguamiento;let h=k,S=j,T=-(u/o)*h-m/o*S;d.current.posiciones.push(h),d.current.velocidades.push(S),d.current.aceleraciones.push(T),d.current.tiempos.push(0);const I=.016,$=()=>{if(!d.current.enMovimiento)return;d.current.tiempo+=I;const q=d.current.tiempo;T=-(u/o)*h-m/o*S,S+=T*I,h+=S*I,d.current.tiempos.length>=500&&(d.current.posiciones.shift(),d.current.velocidades.shift(),d.current.aceleraciones.shift(),d.current.tiempos.shift()),d.current.posiciones.push(h),d.current.velocidades.push(S),d.current.aceleraciones.push(T),d.current.tiempos.push(q),R(),i.current=requestAnimationFrame($)};R(),$()},y=()=>{d.current.enMovimiento=!1,i.current&&(cancelAnimationFrame(i.current),i.current=null)},R=()=>{const k=a.current,j=r.current;if(!k)return;const u=k.getContext("2d"),o=k.width,m=k.height;u.clearRect(0,0,o,m);const h=t.posicionEquilibrio,S=d.current.posiciones.length>0?d.current.posiciones[d.current.posiciones.length-1]:t.amplitudInicial,T=d.current.velocidades.length>0?d.current.velocidades[d.current.velocidades.length-1]:t.velocidadInicial,I=d.current.aceleraciones.length>0?d.current.aceleraciones[d.current.aceleraciones.length-1]:-(t.constanteResorte/t.masaObjeto)*t.amplitudInicial,$=d.current.tiempo;u.fillStyle="#000000",u.font="14px Arial",u.fillText(`Tiempo: ${$.toFixed(2)} s`,20,30),u.fillText(`Posición: ${S.toFixed(2)} m`,20,50),u.fillText(`Velocidad: ${T.toFixed(2)} m/s`,20,70),u.fillText(`Aceleración: ${I.toFixed(2)} m/s²`,20,90),u.beginPath(),u.moveTo(0,m/2),u.lineTo(o,m/2),u.strokeStyle="#000000",u.lineWidth=1,u.stroke();for(let P=0;P<=o;P+=50)u.beginPath(),u.moveTo(P,m/2-5),u.lineTo(P,m/2+5),u.stroke(),u.fillStyle="#000000",u.font="12px Arial",u.fillText(`${(P-h)/50}`,P,m/2+20);u.fillStyle="#000000",u.font="16px Arial",u.fillText("0",h,m/2+25),u.beginPath(),u.arc(h,m/2,3,0,2*Math.PI),u.fill();const q=50;u.fillStyle="#555555",u.fillRect(q,m/2-40,20,80);const O=h+S;f(u,q+20,m/2,O-30,m/2,15),u.beginPath(),u.rect(O-30,m/2-25,30,50),u.fillStyle="#2196F3",u.fill(),u.strokeStyle="#000000",u.lineWidth=2,u.stroke(),u.fillStyle="#000000",u.font="18px Arial",u.fillText("m",O-20,m/2-30);const z=20;if(Math.abs(T)>.1){u.beginPath(),u.moveTo(O-15,m/2-35),u.lineTo(O-15+T*z,m/2-35),u.strokeStyle="#00FF00",u.lineWidth=2,u.stroke();const P=T>0?0:Math.PI;u.beginPath(),u.moveTo(O-15+T*z,m/2-35),u.lineTo(O-15+T*z-10*Math.cos(P-Math.PI/6),m/2-35-10*Math.sin(P-Math.PI/6)),u.lineTo(O-15+T*z-10*Math.cos(P+Math.PI/6),m/2-35-10*Math.sin(P+Math.PI/6)),u.closePath(),u.fillStyle="#00FF00",u.fill()}if(Math.abs(I)>.1){u.beginPath(),u.moveTo(O-15,m/2-45),u.lineTo(O-15+I*z,m/2-45),u.strokeStyle="#FF0000",u.lineWidth=2,u.stroke();const P=I>0?0:Math.PI;u.beginPath(),u.moveTo(O-15+I*z,m/2-45),u.lineTo(O-15+I*z-10*Math.cos(P-Math.PI/6),m/2-45-10*Math.sin(P-Math.PI/6)),u.lineTo(O-15+I*z-10*Math.cos(P+Math.PI/6),m/2-45-10*Math.sin(P+Math.PI/6)),u.closePath(),u.fillStyle="#FF0000",u.fill()}if(t.mostrarGraficas&&j){const P=j.getContext("2d"),D=j.width,V=j.height;P.clearRect(0,0,D,V);const L=50,ee=30,X=20,W=30,N=D-L-ee,F=(V-X-W)/3,x=d.current.tiempos,c=d.current.posiciones,l=d.current.velocidades,b=d.current.aceleraciones,_=Math.max(...x),B=Math.max(0,_-5),A=Math.max(Math.abs(Math.min(...c)),Math.abs(Math.max(...c)),.1),Y=Math.max(Math.abs(Math.min(...l)),Math.abs(Math.max(...l)),.1),Z=Math.max(Math.abs(Math.min(...b)),Math.abs(Math.max(...b)),.1),H=ie=>L+(ie-B)/(_-B)*N,U=ie=>X+F/2-ie/A*(F/2*.9),K=ie=>X+F*1.5-ie/Y*(F/2*.9),J=ie=>X+F*2.5-ie/Z*(F/2*.9);P.strokeStyle="#000000",P.lineWidth=1,P.beginPath(),P.moveTo(L,X),P.lineTo(L,X+F),P.moveTo(L,X+F/2),P.lineTo(D-ee,X+F/2),P.stroke(),P.beginPath(),P.moveTo(L,X+F),P.lineTo(L,X+F*2),P.moveTo(L,X+F*1.5),P.lineTo(D-ee,X+F*1.5),P.stroke(),P.beginPath(),P.moveTo(L,X+F*2),P.lineTo(L,X+F*3),P.moveTo(L,X+F*2.5),P.lineTo(D-ee,X+F*2.5),P.stroke(),P.fillStyle="#000000",P.font="12px Arial",P.fillText("Posición (m)",L-40,X+F/2),P.fillText("Velocidad (m/s)",L-40,X+F*1.5),P.fillText("Aceleración (m/s²)",L-40,X+F*2.5),P.fillText("Tiempo (s)",D-ee,X+F*3+15);const Q=x.map((ie,ue)=>({t:ie,pos:c[ue],vel:l[ue],acc:b[ue]})).filter(ie=>ie.t>=B);if(Q.length>1){P.beginPath(),P.moveTo(H(Q[0].t),U(Q[0].pos));for(let xe=1;xe<Q.length;xe++)P.lineTo(H(Q[xe].t),U(Q[xe].pos));P.strokeStyle="#2196F3",P.lineWidth=2,P.stroke(),P.beginPath(),P.moveTo(H(Q[0].t),K(Q[0].vel));for(let xe=1;xe<Q.length;xe++)P.lineTo(H(Q[xe].t),K(Q[xe].vel));P.strokeStyle="#00FF00",P.lineWidth=2,P.stroke(),P.beginPath(),P.moveTo(H(Q[0].t),J(Q[0].acc));for(let xe=1;xe<Q.length;xe++)P.lineTo(H(Q[xe].t),J(Q[xe].acc));P.strokeStyle="#FF0000",P.lineWidth=2,P.stroke();const ie=t.constanteResorte,ue=t.masaObjeto,ve=t.amortiguamiento,Qt=Math.sqrt(ie/ue-Math.pow(ve/(2*ue),2));P.fillStyle="#000000",P.font="14px Arial",P.fillText(`Ecuación de posición: x(t) = Ae^(-${(ve/(2*ue)).toFixed(2)}t)·cos(${Qt.toFixed(2)}t + φ)`,D-380,X+15),P.fillText("Ecuación de velocidad: v(t) = dx/dt",D-380,X+F+15),P.fillText(`Ecuación de aceleración: a(t) = -(${(ie/ue).toFixed(2)})x - (${(ve/ue).toFixed(2)})v`,D-380,X+F*2+15)}}};return C.useEffect(()=>(v(),()=>{i.current&&(cancelAnimationFrame(i.current),i.current=null)}),[t]),C.useEffect(()=>{a.current&&r.current&&v()},[a.current,r.current]),e.jsxs(g,{sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"El Resorte: Movimiento Armónico Simple"}),e.jsxs(ae,{elevation:3,sx:{p:2,mb:3},children:[e.jsx(s,{variant:"body1",paragraph:!0,children:"Esta simulación muestra un sistema masa-resorte horizontal, donde un bloque de masa m está conectado a un resorte con constante elástica k. El resorte está fijo en su extremo izquierdo, y el bloque puede moverse libremente a lo largo del eje horizontal (eje x)."}),e.jsx(s,{variant:"body1",paragraph:!0,children:"El origen del sistema (x = 0) se encuentra en la posición de equilibrio del resorte, donde no está ni comprimido ni estirado. Cuando el bloque se desplaza de esta posición, el resorte ejerce una fuerza restauradora proporcional al desplazamiento y en sentido contrario, siguiendo la ley de Hooke: F = -kx."}),e.jsxs(M,{container:!0,spacing:2,children:[e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsx(g,{sx:{height:400,width:"100%",position:"relative"},children:e.jsx("canvas",{ref:a,width:600,height:400,style:{border:"1px solid #ddd"}})}),e.jsxs(g,{sx:{display:"flex",justifyContent:"center",mt:2},children:[e.jsx(te,{variant:"contained",color:"primary",onClick:E,sx:{mr:2},children:"Iniciar Simulación"}),e.jsx(te,{variant:"outlined",color:"error",onClick:y,children:"Detener"})]})]}),e.jsxs(M,{item:!0,xs:12,md:6,children:[e.jsx(s,{variant:"subtitle1",children:"Parámetros del Resorte:"}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Constante del resorte (k) en N/m: ",t.constanteResorte]}),e.jsx(oe,{value:t.constanteResorte,onChange:p("constanteResorte"),min:1,max:30,step:.5,valueLabelDisplay:"auto"})]}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Masa (m) en kg: ",t.masaObjeto]}),e.jsx(oe,{value:t.masaObjeto,onChange:p("masaObjeto"),min:.1,max:5,step:.1,valueLabelDisplay:"auto"})]}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Amortiguamiento (c) en Ns/m: ",t.amortiguamiento]}),e.jsx(oe,{value:t.amortiguamiento,onChange:p("amortiguamiento"),min:0,max:2,step:.05,valueLabelDisplay:"auto"})]}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Desplazamiento inicial en m: ",t.amplitudInicial]}),e.jsx(oe,{value:t.amplitudInicial,onChange:p("amplitudInicial"),min:-5,max:5,step:.1,valueLabelDisplay:"auto"})]}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Velocidad inicial en m/s: ",t.velocidadInicial]}),e.jsx(oe,{value:t.velocidadInicial,onChange:p("velocidadInicial"),min:-10,max:10,step:.5,valueLabelDisplay:"auto"})]}),e.jsxs(g,{sx:{mt:2},children:[e.jsxs(s,{gutterBottom:!0,children:["Posición del origen (0) en px: ",t.posicionEquilibrio]}),e.jsx(oe,{value:t.posicionEquilibrio,onChange:p("posicionEquilibrio"),min:150,max:350,step:10,valueLabelDisplay:"auto"})]}),e.jsx(Pe,{control:e.jsx(ia,{checked:t.mostrarGraficas,onChange:k=>n({...t,mostrarGraficas:k.target.checked}),name:"mostrarGraficas"}),label:"Mostrar gráficas de posición, velocidad y aceleración"})]})]})]}),t.mostrarGraficas&&e.jsxs(ae,{elevation:3,sx:{p:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Gráficas del Movimiento Armónico Simple"}),e.jsx(g,{sx:{height:500,width:"100%",position:"relative"},children:e.jsx("canvas",{ref:r,width:1e3,height:500,style:{border:"1px solid #ddd"}})})]}),e.jsxs(ae,{elevation:3,sx:{p:2,mt:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Conceptos Teóricos del Movimiento Armónico Simple"}),e.jsx(s,{variant:"subtitle1",children:"Ecuación Diferencial:"}),e.jsx(w.BlockMath,{math:"m\\frac{d^2x}{dt^2} + c\\frac{dx}{dt} + kx = 0"}),e.jsxs(s,{variant:"body1",paragraph:!0,children:["Donde:",e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"m"}),": masa del objeto"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"c"}),": coeficiente de amortiguamiento"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"k"}),": constante del resorte"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"x"}),": desplazamiento desde la posición de equilibrio"]})]})]}),e.jsx(s,{variant:"subtitle1",children:"Solución para el caso no amortiguado (c = 0):"}),e.jsx(w.BlockMath,{math:"x(t) = A\\cos(\\omega t + \\phi)"}),e.jsxs(s,{variant:"body1",paragraph:!0,children:["Donde:",e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"A"}),": amplitud del movimiento"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"\\\\omega = \\\\sqrt{\\\\frac{k}{m}}"}),": frecuencia angular"]}),e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"\\\\phi"}),": fase inicial"]})]})]}),e.jsx(s,{variant:"subtitle1",children:"Solución para el caso subamortiguado (c^2 < 4mk):"}),e.jsx(w.BlockMath,{math:"x(t) = Ae^{-\\frac{c}{2m}t}\\cos(\\omega' t + \\phi)"}),e.jsxs(s,{variant:"body1",paragraph:!0,children:["Donde:",e.jsx("ul",{children:e.jsxs("li",{children:[e.jsx(w.InlineMath,{math:"\\\\omega' = \\\\sqrt{\\\\frac{k}{m} - \\\\left(\\\\frac{c}{2m}\\\\right)^2}"}),": frecuencia angular reducida"]})})]}),e.jsx(s,{variant:"subtitle1",children:"Ecuaciones derivadas:"}),e.jsx(w.BlockMath,{math:"v(t) = \\frac{dx}{dt} = -Ae^{-\\frac{c}{2m}t}\\left[\\frac{c}{2m}\\cos(\\omega' t + \\phi) + \\omega'\\sin(\\omega' t + \\phi)\\right]"}),e.jsx(w.BlockMath,{math:"a(t) = \\frac{d^2x}{dt^2} = -\\frac{k}{m}x - \\frac{c}{m}v"}),e.jsx(s,{variant:"subtitle1",children:"Período y frecuencia:"}),e.jsx(w.BlockMath,{math:"T = \\frac{2\\pi}{\\omega'}, \\quad f = \\frac{1}{T} = \\frac{\\omega'}{2\\pi}"}),e.jsx(s,{variant:"subtitle1",children:"Energía mecánica:"}),e.jsx(w.BlockMath,{math:"E = \\frac{1}{2}kx^2 + \\frac{1}{2}mv^2"}),e.jsx(s,{variant:"body1",children:"La energía mecánica se conserva en ausencia de amortiguamiento (c = 0). Con amortiguamiento, la energía decrece exponencialmente con el tiempo."})]})]})};function Si(){const[t,n]=C.useState(0),a=(r,i)=>{n(i)};return e.jsxs(g,{sx:{width:"100%"},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Cálculo en Una Dimensión"}),e.jsx(g,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsxs(Ie,{value:t,onChange:a,"aria-label":"subsecciones de cálculo en una dimensión",children:[e.jsx(re,{label:"Razones de Cambio y Derivadas en Física"}),e.jsx(re,{label:"Optimización aplicada a la Física"}),e.jsx(re,{label:"El Péndulo"}),e.jsx(re,{label:"El Resorte"})]})}),t===0&&e.jsx(Ci,{}),t===1&&e.jsx(Pi,{}),t===2&&e.jsx(_i,{}),t===3&&e.jsx(Ei,{})]})}var ze={},Ke={};const ki=Ba(sa);var At;function wi(){return At||(At=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=ki}(Ke)),Ke}var It;function Ti(){if(It)return ze;It=1;var t=ra();Object.defineProperty(ze,"__esModule",{value:!0}),ze.default=void 0;var n=t(wi()),a=oa();return ze.default=(0,n.default)((0,a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),ze}var Ri=Ti();const Fi=za(Ri);function Ai(t,n,a,r,i,d=100,p=100,v="auto"){const f=fe(t);if(v==="auto"&&(v=/\by\b/.test(n)||/\by\b/.test(a)?"y":"x"),v==="x"){const E=fe(n),y=fe(a),R=fe(r),k=fe(i),j=E.evaluate(),o=(y.evaluate()-j)/d;let m=0;for(let h=0;h<d;h++){const S=j+(h+.5)*o,T=R.evaluate({x:S}),$=(k.evaluate({x:S})-T)/p;for(let q=0;q<p;q++){const O=T+(q+.5)*$,z=f.evaluate({x:S,y:O});m+=z*o*$}}return m}else{const E=fe(r),y=fe(i),R=fe(n),k=fe(a),j=E.evaluate(),o=(y.evaluate()-j)/p;let m=0;for(let h=0;h<p;h++){const S=j+(h+.5)*o,T=R.evaluate({y:S}),$=(k.evaluate({y:S})-T)/d;for(let q=0;q<d;q++){const O=T+(q+.5)*$,z=f.evaluate({x:O,y:S});m+=z*$*o}}return m}}function Ii(t,n,a,r,i,d=100,p=100){const v=fe(t),f=fe(n).evaluate(),E=fe(a).evaluate(),y=fe(r).evaluate(),R=fe(i).evaluate(),k=(E-f)/d,j=(R-y)/p;let u=0;for(let o=0;o<d;o++){const m=f+(o+.5)*k;for(let h=0;h<p;h++){const S=y+(h+.5)*j,T=v.evaluate({r:m,theta:S});u+=T*m*k*j}}return u}function Bi(t){return t.replace(new RegExp("(?<![a-zA-Z0-9_])x(?![a-zA-Z0-9_])","g"),"(r*cos(theta))").replace(new RegExp("(?<![a-zA-Z0-9_])y(?![a-zA-Z0-9_])","g"),"(r*sin(theta))")}const zi=[{id:1,titulo:"Parabólica vertical",descripcion:"R: 0<=x<=1, 0<=y<=x^2, integrando x+2y",data:{system:"rect",integrand:"x+2*y",xLower:"0",xUpper:"1",yLower:"0",yUpper:"x^2"}},{id:2,titulo:"Triángulo recto",descripcion:"R: triángulo (0,0)-(1,0)-(0,1), integrando 4-x-y",data:{system:"rect",integrand:"4 - x - y",xLower:"0",xUpper:"1",yLower:"0",yUpper:"1 - x"}},{id:3,titulo:"Frijol parabólico",descripcion:"R: 0<=y<=2, x=y^2-6y..2y-y^2, integrando 3x-y",data:{system:"rect",integrand:"3*x - y",yLower:"0",yUpper:"2",xLower:"y^2 - 6*y",xUpper:"2*y - y^2"}},{id:4,titulo:"Sector circular (polares)",descripcion:"r 0..1, theta pi/6..pi/2, integrando r^2",data:{system:"polar",integrand:"r^2",rLower:"0",rUpper:"1",thetaLower:"pi/6",thetaUpper:"pi/2"}},{id:5,titulo:"Corona circular (polares)",descripcion:"r 1..2, theta 0..2pi, integrando r*sin(theta)",data:{system:"polar",integrand:"r*sin(theta)",rLower:"1",rUpper:"2",thetaLower:"0",thetaUpper:"2*pi"}},{id:6,titulo:"Rosa polar (área)",descripcion:"r 0..cos(2theta), theta -pi/4..pi/4, integrando 1",data:{system:"polar",integrand:"1",rLower:"0",rUpper:"cos(2*theta)",thetaLower:"-pi/4",thetaUpper:"pi/4"}},{id:7,titulo:"Gauss recortado",descripcion:"x 0..x^2, integrando e^y",data:{system:"rect",integrand:"exp(y)",xLower:"0",xUpper:"1",yLower:"0",yUpper:"x^2"}},{id:8,titulo:"Exponencial de y^2",descripcion:"x y^2..1, y -1..1",data:{system:"rect",integrand:"exp(y^2)",yLower:"-1",yUpper:"1",xLower:"y^2",xUpper:"1"}},{id:9,titulo:"Elipse sesgada",descripcion:"x y^2/4..4-y^2, y -2..2, integrando exp(x+y)",data:{system:"rect",integrand:"exp(x + y)",yLower:"-2",yUpper:"2",xLower:"y^2/4",xUpper:"4 - y^2"}},{id:10,titulo:"Triángulo oblicuo",descripcion:"vértices (0,0),(2,1),(0,3), integrando x",data:{system:"rect",integrand:"x",xLower:"0",xUpper:"2",yLower:"1.5*x",yUpper:"3 - 1.5*x"}}];function Li(){const[t,n]=C.useState("rect"),[a,r]=C.useState(""),[i,d]=C.useState(null),[p,v]=C.useState("0"),[f,E]=C.useState("1"),[y,R]=C.useState("0"),[k,j]=C.useState("1"),[u,o]=C.useState("0"),[m,h]=C.useState("1"),[S,T]=C.useState("0"),[I,$]=C.useState("2*pi"),q=()=>{try{let z;t==="rect"?z=Ai(a,p,f,y,k):z=Ii(a,u,m,S,I),d(z)}catch(z){d("Error: "+z.message)}},O=z=>{z.system==="rect"?(n("rect"),r(z.integrand),v(z.xLower||p),E(z.xUpper||f),R(z.yLower||y),j(z.yUpper||k)):(n("polar"),r(z.integrand),o(z.rLower||u),h(z.rUpper||m),T(z.thetaLower||S),$(z.thetaUpper||I)),d(null)};return e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Integrales Múltiples"}),e.jsxs(_e,{component:"fieldset",sx:{mb:2},children:[e.jsx(la,{component:"legend",children:"Sistema de coordenadas"}),e.jsxs(ca,{row:!0,value:t,onChange:z=>n(z.target.value),children:[e.jsx(Pe,{value:"rect",control:e.jsx(dt,{}),label:"Rectangulares (x, y)"}),e.jsx(Pe,{value:"polar",control:e.jsx(dt,{}),label:"Polares (r, θ)"})]})]}),t==="rect"&&e.jsx(te,{variant:"outlined",size:"small",sx:{mb:2},onClick:()=>{const z=Bi(a||"");r(z),n("polar")},disabled:!a,children:"Transformar integrando a polares"}),e.jsx(G,{fullWidth:!0,label:"Integrando",helperText:t==="rect"?"Usa x y y. Ej: x^2 + y^2. Los límites pueden depender de x (ej: y inferior = 0, y superior = x)":"Usa r y theta. Ej: r^2 * sin(theta)",value:a,onChange:z=>r(z.target.value),sx:{mb:2}}),t==="rect"?e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[e.jsx(G,{label:"x inferior",value:p,onChange:z=>v(z.target.value)}),e.jsx(G,{label:"x superior",value:f,onChange:z=>E(z.target.value)}),e.jsx(G,{label:"y inferior",value:y,onChange:z=>R(z.target.value)}),e.jsx(G,{label:"y superior",value:k,onChange:z=>j(z.target.value)})]}):e.jsxs(g,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[e.jsx(G,{label:"r inferior",value:u,onChange:z=>o(z.target.value)}),e.jsx(G,{label:"r superior",value:m,onChange:z=>h(z.target.value)}),e.jsx(G,{label:"θ inferior",value:S,onChange:z=>T(z.target.value)}),e.jsx(G,{label:"θ superior",value:I,onChange:z=>$(z.target.value)})]}),e.jsx(te,{variant:"contained",sx:{mt:3},onClick:q,children:"Calcular"}),i!==null&&e.jsx(g,{sx:{mt:3},children:typeof i=="string"?e.jsx(me,{severity:"error",children:i}):e.jsxs(s,{variant:"h6",children:["Resultado ≈ ",Number(i).toPrecision(6)]})}),e.jsxs(g,{sx:{mt:5},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Ejercicios de práctica"}),e.jsxs(da,{children:[e.jsx(ua,{expandIcon:e.jsx(Fi,{}),children:e.jsx(s,{children:"Lista de 10 ejercicios propuestos"})}),e.jsx(ha,{children:e.jsx(ma,{dense:!0,children:zi.map(z=>e.jsx(pa,{disablePadding:!0,children:e.jsx(xa,{onClick:()=>O(z.data),children:e.jsx(ga,{primary:`${z.id}. ${z.titulo}`,secondary:z.descripcion})})},z.id))})})]})]})]})}function Ni(){return e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Funciones Vectoriales"}),e.jsx(s,{paragraph:!0,children:"En esta sección se representarán funciones vectoriales, curvas paramétricas, y conceptos relacionados con el cálculo vectorial."})]})}function Di(){return e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Derivadas Parciales"}),e.jsx(s,{paragraph:!0,children:"Aquí se visualizarán derivadas parciales, gradientes, y aplicaciones como planos tangentes y aproximaciones lineales."})]})}function $i(){return e.jsxs(g,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Cálculo Vectorial"}),e.jsx(s,{paragraph:!0,children:"Aquí se implementarán visualizaciones de campos vectoriales, integrales de línea, teorema de Green, teorema de Stokes y más."})]})}function Oi(){const t=it(),n=Be(),[a,r]=Me.useState(0),i=["/calculo-multivariante/calculo-1d","/calculo-multivariante/espacio-3d","/calculo-multivariante/funciones-vectoriales","/calculo-multivariante/derivadas-parciales","/calculo-multivariante/integrales-multiples","/calculo-multivariante/calculo-vectorial"];Me.useEffect(()=>{const p=i.findIndex(v=>n.pathname.startsWith(v));p!==-1?r(p):n.pathname==="/calculo-multivariante"&&t(i[0])},[n.pathname]);const d=(p,v)=>{r(v),t(i[v])};return e.jsxs(g,{sx:{width:"100%"},children:[e.jsx(s,{variant:"h4",component:"h1",gutterBottom:!0,children:"Cálculo Multivariante"}),e.jsx(g,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsxs(Ie,{value:a,onChange:d,"aria-label":"temas de cálculo multivariante",children:[e.jsx(re,{label:"Cálculo en 1D"}),e.jsx(re,{label:"Espacio 3D"}),e.jsx(re,{label:"Funciones Vectoriales"}),e.jsx(re,{label:"Derivadas Parciales"}),e.jsx(re,{label:"Integrales Múltiples"}),e.jsx(re,{label:"Cálculo Vectorial"})]})}),e.jsxs(st,{children:[e.jsx(pe,{path:"/calculo-1d",element:e.jsx(Si,{})}),e.jsx(pe,{path:"/espacio-3d",element:e.jsx(Mi,{})}),e.jsx(pe,{path:"/funciones-vectoriales",element:e.jsx(Ni,{})}),e.jsx(pe,{path:"/derivadas-parciales",element:e.jsx(Di,{})}),e.jsx(pe,{path:"/integrales-multiples",element:e.jsx(Li,{})}),e.jsx(pe,{path:"/calculo-vectorial",element:e.jsx($i,{})})]})]})}function Vi(){const t=fa({palette:{mode:"dark"}});return e.jsxs(ja,{theme:t,children:[e.jsx(ba,{}),e.jsxs(In,{children:[e.jsx(Nn,{}),e.jsx(g,{sx:{padding:"20px"},children:e.jsxs(st,{children:[e.jsx(pe,{path:"/",element:e.jsx(On,{})}),e.jsx(pe,{path:"/algebra-lineal/*",element:e.jsx(fi,{})}),e.jsx(pe,{path:"/calculo-multivariante/*",element:e.jsx(Oi,{})})]})})]})]})}Aa.createRoot(document.getElementById("root")).render(e.jsx(Me.StrictMode,{children:e.jsx(Vi,{})}));
